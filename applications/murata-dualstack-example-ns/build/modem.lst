ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"modem.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.process_serial_frame,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	process_serial_frame:
  26              	.LVL0:
  27              	.LFB127:
  28              		.file 1 "../../shields/Murata-dualstack/src/modem.c"
   1:../../shields/Murata-dualstack/src/modem.c **** /* * OSS-7 - An opensource implementation of the DASH7 Alliance Protocol for ultra
   2:../../shields/Murata-dualstack/src/modem.c ****  * lowpower wireless sensor communication
   3:../../shields/Murata-dualstack/src/modem.c ****  *
   4:../../shields/Murata-dualstack/src/modem.c ****  * Copyright 2015 University of Antwerp
   5:../../shields/Murata-dualstack/src/modem.c ****  *
   6:../../shields/Murata-dualstack/src/modem.c ****  * Licensed under the Apache License, Version 2.0 (the "License");
   7:../../shields/Murata-dualstack/src/modem.c ****  * you may not use this file except in compliance with the License.
   8:../../shields/Murata-dualstack/src/modem.c ****  * You may obtain a copy of the License at
   9:../../shields/Murata-dualstack/src/modem.c ****  *
  10:../../shields/Murata-dualstack/src/modem.c ****  *   http://www.apache.org/licenses/LICENSE-2.0
  11:../../shields/Murata-dualstack/src/modem.c ****  *
  12:../../shields/Murata-dualstack/src/modem.c ****  * Unless required by applicable law or agreed to in writing, software
  13:../../shields/Murata-dualstack/src/modem.c ****  * distributed under the License is distributed on an "AS IS" BASIS,
  14:../../shields/Murata-dualstack/src/modem.c ****  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  15:../../shields/Murata-dualstack/src/modem.c ****  * See the License for the specific language governing permissions and
  16:../../shields/Murata-dualstack/src/modem.c ****  * limitations under the License.
  17:../../shields/Murata-dualstack/src/modem.c ****  */
  18:../../shields/Murata-dualstack/src/modem.c **** 
  19:../../shields/Murata-dualstack/src/modem.c **** #include "modem.h"
  20:../../shields/Murata-dualstack/src/modem.c **** //#include "debug.h"
  21:../../shields/Murata-dualstack/src/modem.c **** //#include "log.h"
  22:../../shields/Murata-dualstack/src/modem.c **** #include "errors.h"
  23:../../shields/Murata-dualstack/src/modem.c **** #include "fifo.h"
  24:../../shields/Murata-dualstack/src/modem.c **** #include "alp.h"
  25:../../shields/Murata-dualstack/src/modem.c **** //#include "scheduler.h"
  26:../../shields/Murata-dualstack/src/modem.c **** //#include "timer.h"
  27:../../shields/Murata-dualstack/src/modem.c **** #include "d7ap.h"
  28:../../shields/Murata-dualstack/src/modem.c **** #include <stdio.h>
  29:../../shields/Murata-dualstack/src/modem.c **** #include <stdlib.h>
  30:../../shields/Murata-dualstack/src/modem.c **** //#include "platform.h"
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 2


  31:../../shields/Murata-dualstack/src/modem.c **** #include "modem_interface.h"
  32:../../shields/Murata-dualstack/src/modem.c **** #include "stm32l4xx_hal.h"
  33:../../shields/Murata-dualstack/src/modem.c **** 
  34:../../shields/Murata-dualstack/src/modem.c **** #define RX_BUFFER_SIZE 256
  35:../../shields/Murata-dualstack/src/modem.c **** #define CMD_BUFFER_SIZE 256
  36:../../shields/Murata-dualstack/src/modem.c **** 
  37:../../shields/Murata-dualstack/src/modem.c **** #if defined(FRAMEWORK_LOG_ENABLED) && defined(FRAMEWORK_MODEM_LOG_ENABLED)
  38:../../shields/Murata-dualstack/src/modem.c ****   #define DPRINT(...) log_print_string(__VA_ARGS__)
  39:../../shields/Murata-dualstack/src/modem.c ****   #define DPRINT_DATA(...) log_print_data(__VA_ARGS__)
  40:../../shields/Murata-dualstack/src/modem.c **** #else
  41:../../shields/Murata-dualstack/src/modem.c ****     #define DPRINT(...)
  42:../../shields/Murata-dualstack/src/modem.c ****     #define DPRINT_DATA(...)
  43:../../shields/Murata-dualstack/src/modem.c **** #endif
  44:../../shields/Murata-dualstack/src/modem.c **** 
  45:../../shields/Murata-dualstack/src/modem.c **** 
  46:../../shields/Murata-dualstack/src/modem.c **** typedef struct {
  47:../../shields/Murata-dualstack/src/modem.c ****   uint8_t tag_id;
  48:../../shields/Murata-dualstack/src/modem.c ****   bool is_active;
  49:../../shields/Murata-dualstack/src/modem.c ****   fifo_t fifo;
  50:../../shields/Murata-dualstack/src/modem.c ****   uint8_t buffer[256];
  51:../../shields/Murata-dualstack/src/modem.c **** } command_t;
  52:../../shields/Murata-dualstack/src/modem.c **** 
  53:../../shields/Murata-dualstack/src/modem.c **** static modem_callbacks_t* callbacks;
  54:../../shields/Murata-dualstack/src/modem.c **** static uint8_t rx_buffer[RX_BUFFER_SIZE];
  55:../../shields/Murata-dualstack/src/modem.c **** static command_t command; // TODO only one active command supported for now
  56:../../shields/Murata-dualstack/src/modem.c **** static uint8_t next_tag_id = 0;
  57:../../shields/Murata-dualstack/src/modem.c **** static bool parsed_header = false;
  58:../../shields/Murata-dualstack/src/modem.c **** static uint8_t payload_len = 0;
  59:../../shields/Murata-dualstack/src/modem.c **** extern fifo_t rx_fifo;
  60:../../shields/Murata-dualstack/src/modem.c **** 
  61:../../shields/Murata-dualstack/src/modem.c **** static void process_serial_frame(fifo_t* fifo) {
  29              		.loc 1 61 48 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 296
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 61 48 is_stmt 0 view .LVU1
  34 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 20
  37              		.cfi_offset 4, -20
  38              		.cfi_offset 5, -16
  39              		.cfi_offset 6, -12
  40              		.cfi_offset 7, -8
  41              		.cfi_offset 14, -4
  42 0002 CBB0     		sub	sp, sp, #300
  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 320
  45 0004 0446     		mov	r4, r0
  62:../../shields/Murata-dualstack/src/modem.c ****   bool command_completed = false;
  46              		.loc 1 62 3 is_stmt 1 view .LVU2
  47              	.LVL1:
  63:../../shields/Murata-dualstack/src/modem.c ****   bool completed_with_error = false;
  48              		.loc 1 63 3 view .LVU3
  64:../../shields/Murata-dualstack/src/modem.c ****   while(fifo_get_size(fifo)) {
  49              		.loc 1 64 3 view .LVU4
  63:../../shields/Murata-dualstack/src/modem.c ****   bool completed_with_error = false;
  50              		.loc 1 63 8 is_stmt 0 view .LVU5
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 3


  51 0006 0026     		movs	r6, #0
  62:../../shields/Murata-dualstack/src/modem.c ****   bool command_completed = false;
  52              		.loc 1 62 8 view .LVU6
  53 0008 3746     		mov	r7, r6
  54              		.loc 1 64 8 view .LVU7
  55 000a 45E0     		b	.L2
  56              	.LVL2:
  57              	.L4:
  58              	.LBB6:
  65:../../shields/Murata-dualstack/src/modem.c ****     alp_action_t action;
  66:../../shields/Murata-dualstack/src/modem.c ****     alp_parse_action(fifo, &action);
  67:../../shields/Murata-dualstack/src/modem.c **** 
  68:../../shields/Murata-dualstack/src/modem.c ****     switch(action.operation) {
  69:../../shields/Murata-dualstack/src/modem.c ****       case ALP_OP_RETURN_TAG:
  70:../../shields/Murata-dualstack/src/modem.c ****         if(action.tag_response.tag_id == command.tag_id) {
  59              		.loc 1 70 9 is_stmt 1 view .LVU8
  60              		.loc 1 70 31 is_stmt 0 view .LVU9
  61 000c 9DF81E10 		ldrb	r1, [sp, #30]	@ zero_extendqisi2
  62              		.loc 1 70 49 view .LVU10
  63 0010 514B     		ldr	r3, .L19
  64 0012 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
  65              		.loc 1 70 11 view .LVU11
  66 0014 9142     		cmp	r1, r2
  67 0016 04D1     		bne	.L9
  71:../../shields/Murata-dualstack/src/modem.c ****           command_completed = action.tag_response.completed;
  68              		.loc 1 71 11 is_stmt 1 view .LVU12
  69              		.loc 1 71 29 is_stmt 0 view .LVU13
  70 0018 9DF81C70 		ldrb	r7, [sp, #28]	@ zero_extendqisi2
  71              	.LVL3:
  72:../../shields/Murata-dualstack/src/modem.c ****           completed_with_error = action.tag_response.error;
  72              		.loc 1 72 11 is_stmt 1 view .LVU14
  73              		.loc 1 72 32 is_stmt 0 view .LVU15
  74 001c 9DF81D60 		ldrb	r6, [sp, #29]	@ zero_extendqisi2
  75              	.LVL4:
  76              		.loc 1 72 32 view .LVU16
  77 0020 3AE0     		b	.L2
  78              	.L9:
  73:../../shields/Murata-dualstack/src/modem.c ****         } else {
  74:../../shields/Murata-dualstack/src/modem.c ****           printf("received resp with unexpected tag_id (%i vs %i)", action.tag_response.tag_id, com
  79              		.loc 1 74 11 is_stmt 1 view .LVU17
  80 0022 4E48     		ldr	r0, .L19+4
  81 0024 FFF7FEFF 		bl	printf
  82              	.LVL5:
  83 0028 36E0     		b	.L2
  84              	.L8:
  75:../../shields/Murata-dualstack/src/modem.c ****           // TODO unsolicited responses
  76:../../shields/Murata-dualstack/src/modem.c ****         }
  77:../../shields/Murata-dualstack/src/modem.c ****         break;
  78:../../shields/Murata-dualstack/src/modem.c ****       case ALP_OP_WRITE_FILE_DATA:
  79:../../shields/Murata-dualstack/src/modem.c ****         if(callbacks->write_file_data_callback)
  85              		.loc 1 79 9 view .LVU18
  86              		.loc 1 79 21 is_stmt 0 view .LVU19
  87 002a 4D4B     		ldr	r3, .L19+8
  88 002c 1B68     		ldr	r3, [r3]
  89 002e DD68     		ldr	r5, [r3, #12]
  90              		.loc 1 79 11 view .LVU20
  91 0030 002D     		cmp	r5, #0
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 4


  92 0032 31D0     		beq	.L2
  80:../../shields/Murata-dualstack/src/modem.c ****           callbacks->write_file_data_callback(action.file_data_operand.file_offset.file_id,
  93              		.loc 1 80 11 is_stmt 1 view .LVU21
  94 0034 0AAB     		add	r3, sp, #40
  95 0036 099A     		ldr	r2, [sp, #36]
  96 0038 0899     		ldr	r1, [sp, #32]
  97 003a 9DF81C00 		ldrb	r0, [sp, #28]	@ zero_extendqisi2
  98 003e A847     		blx	r5
  99              	.LVL6:
 100 0040 2AE0     		b	.L2
 101              	.L7:
  81:../../shields/Murata-dualstack/src/modem.c ****                                                action.file_data_operand.file_offset.offset,
  82:../../shields/Murata-dualstack/src/modem.c ****                                                action.file_data_operand.provided_data_length,
  83:../../shields/Murata-dualstack/src/modem.c ****                                                action.file_data_operand.data);
  84:../../shields/Murata-dualstack/src/modem.c ****         break;
  85:../../shields/Murata-dualstack/src/modem.c ****       case ALP_OP_RETURN_FILE_DATA:
  86:../../shields/Murata-dualstack/src/modem.c ****         if(callbacks->return_file_data_callback)
 102              		.loc 1 86 9 view .LVU22
 103              		.loc 1 86 21 is_stmt 0 view .LVU23
 104 0042 474B     		ldr	r3, .L19+8
 105 0044 1B68     		ldr	r3, [r3]
 106 0046 9D68     		ldr	r5, [r3, #8]
 107              		.loc 1 86 11 view .LVU24
 108 0048 35B3     		cbz	r5, .L2
  87:../../shields/Murata-dualstack/src/modem.c ****           callbacks->return_file_data_callback(action.file_data_operand.file_offset.file_id,
 109              		.loc 1 87 11 is_stmt 1 view .LVU25
 110 004a 0AAB     		add	r3, sp, #40
 111 004c 099A     		ldr	r2, [sp, #36]
 112 004e 0899     		ldr	r1, [sp, #32]
 113 0050 9DF81C00 		ldrb	r0, [sp, #28]	@ zero_extendqisi2
 114 0054 A847     		blx	r5
 115              	.LVL7:
 116 0056 1FE0     		b	.L2
 117              	.L6:
  88:../../shields/Murata-dualstack/src/modem.c ****                                                action.file_data_operand.file_offset.offset,
  89:../../shields/Murata-dualstack/src/modem.c ****                                                action.file_data_operand.provided_data_length,
  90:../../shields/Murata-dualstack/src/modem.c ****                                                action.file_data_operand.data);
  91:../../shields/Murata-dualstack/src/modem.c ****         break;
  92:../../shields/Murata-dualstack/src/modem.c ****       case ALP_OP_RETURN_STATUS:
  93:../../shields/Murata-dualstack/src/modem.c ****         if(action.status.type==ALP_ITF_ID_D7ASP)
 118              		.loc 1 93 9 view .LVU26
 119              		.loc 1 93 25 is_stmt 0 view .LVU27
 120 0058 9DF81C51 		ldrb	r5, [sp, #284]	@ zero_extendqisi2
 121              		.loc 1 93 11 view .LVU28
 122 005c D72D     		cmp	r5, #215
 123 005e 07D0     		beq	.L17
 124              	.L11:
  94:../../shields/Murata-dualstack/src/modem.c ****         {
  95:../../shields/Murata-dualstack/src/modem.c ****           d7ap_session_result_t interface_status = *((d7ap_session_result_t*)action.status.data);
  96:../../shields/Murata-dualstack/src/modem.c ****           uint8_t addressee_len = d7ap_addressee_id_length(interface_status.addressee.ctrl.id_type)
  97:../../shields/Murata-dualstack/src/modem.c ****           //printf("received resp from: ");
  98:../../shields/Murata-dualstack/src/modem.c ****           //printf(interface_status.addressee.id, addressee_len);
  99:../../shields/Murata-dualstack/src/modem.c ****         }
 100:../../shields/Murata-dualstack/src/modem.c ****         if(callbacks->modem_interface_status_callback)
 125              		.loc 1 100 9 is_stmt 1 view .LVU29
 126              		.loc 1 100 21 is_stmt 0 view .LVU30
 127 0060 3F4B     		ldr	r3, .L19+8
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 5


 128 0062 1B68     		ldr	r3, [r3]
 129 0064 5B68     		ldr	r3, [r3, #4]
 130              		.loc 1 100 11 view .LVU31
 131 0066 BBB1     		cbz	r3, .L2
 101:../../shields/Murata-dualstack/src/modem.c ****           callbacks->modem_interface_status_callback(action.status.type,&action.status.data);
 132              		.loc 1 101 11 is_stmt 1 view .LVU32
 133 0068 07A9     		add	r1, sp, #28
 134 006a 2846     		mov	r0, r5
 135 006c 9847     		blx	r3
 136              	.LVL8:
 137 006e 13E0     		b	.L2
 138              	.L17:
 139              	.LBB7:
  95:../../shields/Murata-dualstack/src/modem.c ****           uint8_t addressee_len = d7ap_addressee_id_length(interface_status.addressee.ctrl.id_type)
 140              		.loc 1 95 11 view .LVU33
  95:../../shields/Murata-dualstack/src/modem.c ****           uint8_t addressee_len = d7ap_addressee_id_length(interface_status.addressee.ctrl.id_type)
 141              		.loc 1 95 33 is_stmt 0 view .LVU34
 142 0070 EC46     		mov	ip, sp
 143 0072 0DF11C0E 		add	lr, sp, #28
 144 0076 BEE80F00 		ldmia	lr!, {r0, r1, r2, r3}
 145 007a ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 146 007e 9EE80300 		ldm	lr, {r0, r1}
 147 0082 4CF8040B 		str	r0, [ip], #4
 148 0086 2CF8021B 		strh	r1, [ip], #2	@ movhi
 149 008a 090C     		lsrs	r1, r1, #16
 150 008c 8CF80010 		strb	r1, [ip]
  96:../../shields/Murata-dualstack/src/modem.c ****           //printf("received resp from: ");
 151              		.loc 1 96 11 is_stmt 1 view .LVU35
 152              	.LVL9:
 153              	.LBB8:
 154              	.LBI8:
 155              		.file 2 "../../shields/Murata-dualstack/inc/d7ap.h"
   1:../../shields/Murata-dualstack/inc/d7ap.h **** 
   2:../../shields/Murata-dualstack/inc/d7ap.h **** /* * OSS-7 - An opensource implementation of the DASH7 Alliance Protocol for ultra
   3:../../shields/Murata-dualstack/inc/d7ap.h ****  * lowpower wireless sensor communication
   4:../../shields/Murata-dualstack/inc/d7ap.h ****  *
   5:../../shields/Murata-dualstack/inc/d7ap.h ****  * Copyright 2018 University of Antwerp
   6:../../shields/Murata-dualstack/inc/d7ap.h ****  * Copyright 2018 CORTUS SA
   7:../../shields/Murata-dualstack/inc/d7ap.h ****  *
   8:../../shields/Murata-dualstack/inc/d7ap.h ****  * Licensed under the Apache License, Version 2.0 (the "License");
   9:../../shields/Murata-dualstack/inc/d7ap.h ****  * you may not use this file except in compliance with the License.
  10:../../shields/Murata-dualstack/inc/d7ap.h ****  * You may obtain a copy of the License at
  11:../../shields/Murata-dualstack/inc/d7ap.h ****  *
  12:../../shields/Murata-dualstack/inc/d7ap.h ****  *   http://www.apache.org/licenses/LICENSE-2.0
  13:../../shields/Murata-dualstack/inc/d7ap.h ****  *
  14:../../shields/Murata-dualstack/inc/d7ap.h ****  * Unless required by applicable law or agreed to in writing, software
  15:../../shields/Murata-dualstack/inc/d7ap.h ****  * distributed under the License is distributed on an "AS IS" BASIS,
  16:../../shields/Murata-dualstack/inc/d7ap.h ****  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  17:../../shields/Murata-dualstack/inc/d7ap.h ****  * See the License for the specific language governing permissions and
  18:../../shields/Murata-dualstack/inc/d7ap.h ****  * limitations under the License.
  19:../../shields/Murata-dualstack/inc/d7ap.h ****  *
  20:../../shields/Murata-dualstack/inc/d7ap.h ****  * \author philippe.nunes@cortus.com
  21:../../shields/Murata-dualstack/inc/d7ap.h ****  */
  22:../../shields/Murata-dualstack/inc/d7ap.h **** 
  23:../../shields/Murata-dualstack/inc/d7ap.h **** /**
  24:../../shields/Murata-dualstack/inc/d7ap.h ****  * @file d7ap.h
  25:../../shields/Murata-dualstack/inc/d7ap.h ****  * @addtogroup d7ap
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 6


  26:../../shields/Murata-dualstack/inc/d7ap.h ****  * @ingroup framework
  27:../../shields/Murata-dualstack/inc/d7ap.h ****  * @{
  28:../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief D7AP public types (used for modem and/or D7AP stack itself)
  29:../../shields/Murata-dualstack/inc/d7ap.h ****  *
  30:../../shields/Murata-dualstack/inc/d7ap.h ****  */
  31:../../shields/Murata-dualstack/inc/d7ap.h **** 
  32:../../shields/Murata-dualstack/inc/d7ap.h **** #ifndef D7AP_H
  33:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7AP_H
  34:../../shields/Murata-dualstack/inc/d7ap.h **** 
  35:../../shields/Murata-dualstack/inc/d7ap.h **** #include "types.h"
  36:../../shields/Murata-dualstack/inc/d7ap.h **** #include "assert.h"
  37:../../shields/Murata-dualstack/inc/d7ap.h **** 
  38:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7AP_MAX_CLIENT_COUNT 8
  39:../../shields/Murata-dualstack/inc/d7ap.h **** 
  40:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_UID_FILE_ID 0x00
  41:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_UID_SIZE 8
  42:../../shields/Murata-dualstack/inc/d7ap.h **** 
  43:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_FIRMWARE_VERSION_FILE_ID 0x02
  44:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_FIRMWARE_VERSION_APP_NAME_SIZE 6
  45:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_FIRMWARE_VERSION_GIT_SHA1_SIZE 7
  46:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_FIRMWARE_VERSION_SIZE (2 + D7A_FILE_FIRMWARE_VERSION_APP_NAME_SIZE + D7A_FILE_FIRM
  47:../../shields/Murata-dualstack/inc/d7ap.h **** 
  48:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_DLL_CONF_FILE_ID	0x0A
  49:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_DLL_CONF_SIZE		6
  50:../../shields/Murata-dualstack/inc/d7ap.h **** 
  51:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_ACCESS_PROFILE_ID 0x20 // the first access class file
  52:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_ACCESS_PROFILE_SIZE 65
  53:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_ACCESS_PROFILE_COUNT 15
  54:../../shields/Murata-dualstack/inc/d7ap.h **** 
  55:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY		0x0D
  56:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_SIZE	5
  57:../../shields/Murata-dualstack/inc/d7ap.h **** 
  58:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_KEY		0x0E
  59:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_KEY_SIZE	16
  60:../../shields/Murata-dualstack/inc/d7ap.h **** 
  61:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_STATE_REG			0x0F
  62:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_STATE_REG_SIZE	2 + (FRAMEWORK_FS_TRUSTED_NODE_TABLE_SIZE)*(D7A_FILE_N
  63:../../shields/Murata-dualstack/inc/d7ap.h **** 
  64:../../shields/Murata-dualstack/inc/d7ap.h **** 
  65:../../shields/Murata-dualstack/inc/d7ap.h **** #define ID_TYPE_NBID_ID_LENGTH 1
  66:../../shields/Murata-dualstack/inc/d7ap.h **** #define ID_TYPE_NOID_ID_LENGTH 0
  67:../../shields/Murata-dualstack/inc/d7ap.h **** #define ID_TYPE_UID_ID_LENGTH   8
  68:../../shields/Murata-dualstack/inc/d7ap.h **** #define ID_TYPE_VID_LENGTH      2
  69:../../shields/Murata-dualstack/inc/d7ap.h **** 
  70:../../shields/Murata-dualstack/inc/d7ap.h **** #define ID_TYPE_IS_BROADCAST(id_type) (id_type == ID_TYPE_NBID || id_type == ID_TYPE_NOID)
  71:../../shields/Murata-dualstack/inc/d7ap.h **** 
  72:../../shields/Murata-dualstack/inc/d7ap.h **** #define D7A_PAYLOAD_MAX_SIZE 239 // TODO confirm this value when FEC and security are disabled
  73:../../shields/Murata-dualstack/inc/d7ap.h **** 
  74:../../shields/Murata-dualstack/inc/d7ap.h **** 
  75:../../shields/Murata-dualstack/inc/d7ap.h **** typedef enum {
  76:../../shields/Murata-dualstack/inc/d7ap.h ****     ID_TYPE_NBID = 0,
  77:../../shields/Murata-dualstack/inc/d7ap.h ****     ID_TYPE_NOID = 1,
  78:../../shields/Murata-dualstack/inc/d7ap.h ****     ID_TYPE_UID = 2,
  79:../../shields/Murata-dualstack/inc/d7ap.h ****     ID_TYPE_VID = 3
  80:../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_addressee_id_type_t;
  81:../../shields/Murata-dualstack/inc/d7ap.h **** 
  82:../../shields/Murata-dualstack/inc/d7ap.h **** typedef enum
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 7


  83:../../shields/Murata-dualstack/inc/d7ap.h **** {
  84:../../shields/Murata-dualstack/inc/d7ap.h ****     AES_NONE = 0, /* No security */
  85:../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CTR = 0x01, /* data confidentiality */
  86:../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CBC_MAC_128 = 0x02, /* data authenticity */
  87:../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CBC_MAC_64 = 0x03, /* data authenticity */
  88:../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CBC_MAC_32 = 0x04, /* data authenticity */
  89:../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CCM_128 = 0x05, /* data confidentiality and authenticity*/
  90:../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CCM_64 = 0x06, /* data confidentiality and authenticity*/
  91:../../shields/Murata-dualstack/inc/d7ap.h ****     AES_CCM_32 = 0x07, /* data confidentiality and authenticity*/
  92:../../shields/Murata-dualstack/inc/d7ap.h **** } nls_method_t;
  93:../../shields/Murata-dualstack/inc/d7ap.h **** 
  94:../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct {
  95:../../shields/Murata-dualstack/inc/d7ap.h ****     union {
  96:../../shields/Murata-dualstack/inc/d7ap.h ****         uint8_t raw;
  97:../../shields/Murata-dualstack/inc/d7ap.h ****         struct {
  98:../../shields/Murata-dualstack/inc/d7ap.h ****             nls_method_t nls_method : 4;
  99:../../shields/Murata-dualstack/inc/d7ap.h ****             d7ap_addressee_id_type_t id_type : 2;
 100:../../shields/Murata-dualstack/inc/d7ap.h ****             uint8_t _rfu : 2;
 101:../../shields/Murata-dualstack/inc/d7ap.h ****         };
 102:../../shields/Murata-dualstack/inc/d7ap.h ****     };
 103:../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_addressee_ctrl_t;
 104:../../shields/Murata-dualstack/inc/d7ap.h **** 
 105:../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct __attribute__((__packed__)) {
 106:../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_addressee_ctrl_t ctrl;
 107:../../shields/Murata-dualstack/inc/d7ap.h ****     union {
 108:../../shields/Murata-dualstack/inc/d7ap.h ****         uint8_t access_class;
 109:../../shields/Murata-dualstack/inc/d7ap.h ****         struct {
 110:../../shields/Murata-dualstack/inc/d7ap.h ****             uint8_t access_mask : 4;
 111:../../shields/Murata-dualstack/inc/d7ap.h ****             uint8_t access_specifier : 4;
 112:../../shields/Murata-dualstack/inc/d7ap.h ****         };
 113:../../shields/Murata-dualstack/inc/d7ap.h ****     };
 114:../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t id[8]; // TODO assuming 8 byte id for now
 115:../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_addressee_t;
 116:../../shields/Murata-dualstack/inc/d7ap.h **** 
 117:../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct {
 118:../../shields/Murata-dualstack/inc/d7ap.h ****     union {
 119:../../shields/Murata-dualstack/inc/d7ap.h ****         uint8_t raw;
 120:../../shields/Murata-dualstack/inc/d7ap.h ****         struct {
 121:../../shields/Murata-dualstack/inc/d7ap.h ****             uint8_t _rfu : 4;
 122:../../shields/Murata-dualstack/inc/d7ap.h ****             bool ucast : 1;
 123:../../shields/Murata-dualstack/inc/d7ap.h ****             bool retry : 1;
 124:../../shields/Murata-dualstack/inc/d7ap.h ****             bool missed : 1;
 125:../../shields/Murata-dualstack/inc/d7ap.h ****             bool nls : 1;
 126:../../shields/Murata-dualstack/inc/d7ap.h ****         };
 127:../../shields/Murata-dualstack/inc/d7ap.h ****     };
 128:../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_sp_state_t;
 129:../../shields/Murata-dualstack/inc/d7ap.h **** 
 130:../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct
 131:../../shields/Murata-dualstack/inc/d7ap.h **** {
 132:../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t channel_header;         /**< PHY layer channel header */
 133:../../shields/Murata-dualstack/inc/d7ap.h ****     uint16_t center_freq_index;     /**< The center frequency index of the channel id */
 134:../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_channel_t;
 135:../../shields/Murata-dualstack/inc/d7ap.h **** 
 136:../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct __attribute__((__packed__)) {
 137:../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_channel_t channel;
 138:../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t rx_level;
 139:../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t link_budget;
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 8


 140:../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t link_quality;
 141:../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t target_rx_level;
 142:../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_sp_state_t status;
 143:../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t fifo_token;
 144:../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t seqnr;
 145:../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t response_to;
 146:../../shields/Murata-dualstack/inc/d7ap.h ****     bool response_expected;
 147:../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_addressee_t addressee;
 148:../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_session_result_t;
 149:../../shields/Murata-dualstack/inc/d7ap.h **** 
 150:../../shields/Murata-dualstack/inc/d7ap.h **** typedef enum  {
 151:../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RESP_MODE_NO = 0,
 152:../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RESP_MODE_ALL = 1,
 153:../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RESP_MODE_ANY = 2,
 154:../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RESP_MODE_NO_RPT = 4,
 155:../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RESP_MODE_ON_ERR = 5,
 156:../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RESP_MODE_PREFERRED = 6,
 157:../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_session_resp_mode_t;
 158:../../shields/Murata-dualstack/inc/d7ap.h **** 
 159:../../shields/Murata-dualstack/inc/d7ap.h **** typedef enum {
 160:../../shields/Murata-dualstack/inc/d7ap.h ****     SESSION_RETRY_MODE_NO = 0
 161:../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_session_retry_mode_t;
 162:../../shields/Murata-dualstack/inc/d7ap.h **** 
 163:../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct {
 164:../../shields/Murata-dualstack/inc/d7ap.h ****     union {
 165:../../shields/Murata-dualstack/inc/d7ap.h ****         uint8_t raw;
 166:../../shields/Murata-dualstack/inc/d7ap.h ****         struct {
 167:../../shields/Murata-dualstack/inc/d7ap.h ****             d7ap_session_resp_mode_t qos_resp_mode : 3;
 168:../../shields/Murata-dualstack/inc/d7ap.h ****             d7ap_session_retry_mode_t qos_retry_mode: 3;
 169:../../shields/Murata-dualstack/inc/d7ap.h ****             bool qos_record : 1;
 170:../../shields/Murata-dualstack/inc/d7ap.h ****             bool qos_stop_on_error : 1;
 171:../../shields/Murata-dualstack/inc/d7ap.h ****         };
 172:../../shields/Murata-dualstack/inc/d7ap.h ****     };
 173:../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_session_qos_t;
 174:../../shields/Murata-dualstack/inc/d7ap.h **** 
 175:../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct {
 176:../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_session_qos_t qos;
 177:../../shields/Murata-dualstack/inc/d7ap.h ****     uint8_t dormant_timeout;
 178:../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_addressee_t addressee;
 179:../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_session_config_t;
 180:../../shields/Murata-dualstack/inc/d7ap.h **** 
 181:../../shields/Murata-dualstack/inc/d7ap.h **** typedef void (*d7ap_receive_callback)(uint16_t trans_id, uint8_t* payload, uint8_t len, d7ap_sessio
 182:../../shields/Murata-dualstack/inc/d7ap.h **** /**
 183:../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief Called when the stack received an unsolicited message
 184:../../shields/Murata-dualstack/inc/d7ap.h ****  * @returns true when the unsolicited request will result in a response payload from the upper laye
 185:../../shields/Murata-dualstack/inc/d7ap.h ****  * the upper layer should return false, so the stack can respond with an ack immediately (if reques
 186:../../shields/Murata-dualstack/inc/d7ap.h ****  */
 187:../../shields/Murata-dualstack/inc/d7ap.h **** typedef bool (*d7ap_receive_unsolicited_callback)(uint8_t* payload, uint8_t len, d7ap_session_resul
 188:../../shields/Murata-dualstack/inc/d7ap.h **** typedef void (*d7ap_transmitted_callback)(uint16_t trans_id, error_t error);
 189:../../shields/Murata-dualstack/inc/d7ap.h **** 
 190:../../shields/Murata-dualstack/inc/d7ap.h **** typedef struct{
 191:../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_receive_callback  receive_cb;                /*< receive callback,
 192:../../shields/Murata-dualstack/inc/d7ap.h ****                                                           if NULL, all message received for clientI
 193:../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_transmitted_callback transmitted_cb;         /*< send completion callback,
 194:../../shields/Murata-dualstack/inc/d7ap.h ****                                                           if NULL, the associated packet will be re
 195:../../shields/Murata-dualstack/inc/d7ap.h ****     d7ap_receive_unsolicited_callback unsolicited_cb; /*< unsolicited data callback,
 196:../../shields/Murata-dualstack/inc/d7ap.h ****                                                           if NULL, the associated packet will be re
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 9


 197:../../shields/Murata-dualstack/inc/d7ap.h **** } d7ap_resource_desc_t;
 198:../../shields/Murata-dualstack/inc/d7ap.h **** 
 199:../../shields/Murata-dualstack/inc/d7ap.h **** 
 200:../../shields/Murata-dualstack/inc/d7ap.h **** //=========================== prototypes ======================================
 201:../../shields/Murata-dualstack/inc/d7ap.h **** /**
 202:../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Initializes d7a module
 203:../../shields/Murata-dualstack/inc/d7ap.h ****  */
 204:../../shields/Murata-dualstack/inc/d7ap.h **** void d7ap_init(void);
 205:../../shields/Murata-dualstack/inc/d7ap.h **** 
 206:../../shields/Murata-dualstack/inc/d7ap.h **** 
 207:../../shields/Murata-dualstack/inc/d7ap.h **** /**
 208:../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Register the client callbacks
 209:../../shields/Murata-dualstack/inc/d7ap.h ****  *
 210:../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] desc pointer to the client resource
 211:../../shields/Murata-dualstack/inc/d7ap.h ****  *
 212:../../shields/Murata-dualstack/inc/d7ap.h ****  * @return  the client Id
 213:../../shields/Murata-dualstack/inc/d7ap.h ****  */
 214:../../shields/Murata-dualstack/inc/d7ap.h **** uint8_t d7ap_register(d7ap_resource_desc_t* desc);
 215:../../shields/Murata-dualstack/inc/d7ap.h **** 
 216:../../shields/Murata-dualstack/inc/d7ap.h **** 
 217:../../shields/Murata-dualstack/inc/d7ap.h **** /**
 218:../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Gets the device address UID/VID
 219:../../shields/Murata-dualstack/inc/d7ap.h ****  *
 220:../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[out] *addr   Pointer to the device addressee UID/VID
 221:../../shields/Murata-dualstack/inc/d7ap.h ****  */
 222:../../shields/Murata-dualstack/inc/d7ap.h **** void d7ap_get_dev_addr(d7ap_addressee_t* addr);
 223:../../shields/Murata-dualstack/inc/d7ap.h **** 
 224:../../shields/Murata-dualstack/inc/d7ap.h **** 
 225:../../shields/Murata-dualstack/inc/d7ap.h **** /**
 226:../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief Get the maximum payload size.
 227:../../shields/Murata-dualstack/inc/d7ap.h ****  *
 228:../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] clientId  The d7A  instance Id.
 229:../../shields/Murata-dualstack/inc/d7ap.h ****  *
 230:../../shields/Murata-dualstack/inc/d7ap.h ****  * @returns the maximum payload size in bytes.
 231:../../shields/Murata-dualstack/inc/d7ap.h ****  */
 232:../../shields/Murata-dualstack/inc/d7ap.h **** uint8_t d7ap_get_payload_max_size(uint8_t clientId);
 233:../../shields/Murata-dualstack/inc/d7ap.h **** 
 234:../../shields/Murata-dualstack/inc/d7ap.h **** 
 235:../../shields/Murata-dualstack/inc/d7ap.h **** /**
 236:../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Send a packet over DASH7 network
 237:../../shields/Murata-dualstack/inc/d7ap.h ****  *
 238:../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] clientID  The registered client Id
 239:../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] config    The configuration for the d7a session. Set to NULL to use the current confi
 240:../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] payload   The pointer to the payload buffer
 241:../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] len       The length of the payload
 242:../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] expected_response_len The length of the expected response
 243:../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in,out] trans_id   Set the value of this parameter to NULL to cause the function to execu
 244:../../shields/Murata-dualstack/inc/d7ap.h ****  *                           If this parameter is not NULL, the call executes asynchronously. Upon 
 245:../../shields/Murata-dualstack/inc/d7ap.h ****  *                           this points to the transaction identifier associated with the asynchro
 246:../../shields/Murata-dualstack/inc/d7ap.h ****  * @return 0 on success
 247:../../shields/Murata-dualstack/inc/d7ap.h ****  * @return an error (errno.h) in case of failure
 248:../../shields/Murata-dualstack/inc/d7ap.h ****  */
 249:../../shields/Murata-dualstack/inc/d7ap.h **** error_t d7ap_send(uint8_t clientId, d7ap_session_config_t* config, uint8_t* payload,
 250:../../shields/Murata-dualstack/inc/d7ap.h ****                    uint8_t len, uint8_t expected_response_len, uint16_t* trans_id);
 251:../../shields/Murata-dualstack/inc/d7ap.h **** 
 252:../../shields/Murata-dualstack/inc/d7ap.h **** 
 253:../../shields/Murata-dualstack/inc/d7ap.h **** /**
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 10


 254:../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Sets the channels TX power index
 255:../../shields/Murata-dualstack/inc/d7ap.h ****  *
 256:../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] power  The TX power index (from 1 to 16)
 257:../../shields/Murata-dualstack/inc/d7ap.h ****  */
 258:../../shields/Murata-dualstack/inc/d7ap.h **** void d7ap_set_tx_power(uint8_t power);
 259:../../shields/Murata-dualstack/inc/d7ap.h **** 
 260:../../shields/Murata-dualstack/inc/d7ap.h **** 
 261:../../shields/Murata-dualstack/inc/d7ap.h **** /**
 262:../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Gets the channels TX power index
 263:../../shields/Murata-dualstack/inc/d7ap.h ****  *
 264:../../shields/Murata-dualstack/inc/d7ap.h ****  * @return  The TX power index (from 1 to 16)
 265:../../shields/Murata-dualstack/inc/d7ap.h ****  */
 266:../../shields/Murata-dualstack/inc/d7ap.h **** uint8_t d7ap_get_tx_power(void);
 267:../../shields/Murata-dualstack/inc/d7ap.h **** 
 268:../../shields/Murata-dualstack/inc/d7ap.h **** 
 269:../../shields/Murata-dualstack/inc/d7ap.h **** /**
 270:../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Sets the device access class
 271:../../shields/Murata-dualstack/inc/d7ap.h ****  *
 272:../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] access_class  The device access class
 273:../../shields/Murata-dualstack/inc/d7ap.h ****  */
 274:../../shields/Murata-dualstack/inc/d7ap.h **** void d7ap_set_access_class(uint8_t access_class);
 275:../../shields/Murata-dualstack/inc/d7ap.h **** 
 276:../../shields/Murata-dualstack/inc/d7ap.h **** 
 277:../../shields/Murata-dualstack/inc/d7ap.h **** /**
 278:../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Gets the device access class
 279:../../shields/Murata-dualstack/inc/d7ap.h ****  *
 280:../../shields/Murata-dualstack/inc/d7ap.h ****  * @return  The device access class
 281:../../shields/Murata-dualstack/inc/d7ap.h ****  */
 282:../../shields/Murata-dualstack/inc/d7ap.h **** uint8_t d7ap_get_access_class(void);
 283:../../shields/Murata-dualstack/inc/d7ap.h **** 
 284:../../shields/Murata-dualstack/inc/d7ap.h **** /**
 285:../../shields/Murata-dualstack/inc/d7ap.h ****  * @brief   Gets the length of the addressee Id
 286:../../shields/Murata-dualstack/inc/d7ap.h ****  *
 287:../../shields/Murata-dualstack/inc/d7ap.h ****  * @param[in] id_type  The addressee Id type
 288:../../shields/Murata-dualstack/inc/d7ap.h ****  * @return  The length of the addressee Id according the addressee Id type
 289:../../shields/Murata-dualstack/inc/d7ap.h ****  */
 290:../../shields/Murata-dualstack/inc/d7ap.h **** static inline uint8_t d7ap_addressee_id_length(d7ap_addressee_id_type_t id_type) {
 156              		.loc 2 290 23 view .LVU36
 157              	.LBB9:
 291:../../shields/Murata-dualstack/inc/d7ap.h ****   switch(id_type)
 158              		.loc 2 291 3 view .LVU37
 159 0090 E6E7     		b	.L11
 160              	.L3:
 161              		.loc 2 291 3 is_stmt 0 view .LVU38
 162              	.LBE9:
 163              	.LBE8:
 164              	.LBE7:
 102:../../shields/Murata-dualstack/src/modem.c ****         break;
 103:../../shields/Murata-dualstack/src/modem.c ****       default:
 104:../../shields/Murata-dualstack/src/modem.c ****         printf("unknown serial frame\r\n");
 165              		.loc 1 104 9 is_stmt 1 view .LVU39
 166 0092 3448     		ldr	r0, .L19+12
 167 0094 FFF7FEFF 		bl	puts
 168              	.LVL10:
 169              	.L2:
 170              		.loc 1 104 9 is_stmt 0 view .LVU40
 171              	.LBE6:
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 11


  64:../../shields/Murata-dualstack/src/modem.c ****     alp_action_t action;
 172              		.loc 1 64 9 view .LVU41
 173 0098 2046     		mov	r0, r4
 174 009a FFF7FEFF 		bl	fifo_get_size
 175              	.LVL11:
  64:../../shields/Murata-dualstack/src/modem.c ****     alp_action_t action;
 176              		.loc 1 64 8 view .LVU42
 177 009e 0028     		cmp	r0, #0
 178 00a0 4CD0     		beq	.L18
 179              	.LBB10:
  65:../../shields/Murata-dualstack/src/modem.c ****     alp_parse_action(fifo, &action);
 180              		.loc 1 65 5 is_stmt 1 view .LVU43
  66:../../shields/Murata-dualstack/src/modem.c **** 
 181              		.loc 1 66 5 view .LVU44
 182 00a2 06A9     		add	r1, sp, #24
 183 00a4 2046     		mov	r0, r4
 184 00a6 FFF7FEFF 		bl	alp_parse_action
 185              	.LVL12:
  68:../../shields/Murata-dualstack/src/modem.c ****       case ALP_OP_RETURN_TAG:
 186              		.loc 1 68 5 view .LVU45
  68:../../shields/Murata-dualstack/src/modem.c ****       case ALP_OP_RETURN_TAG:
 187              		.loc 1 68 18 is_stmt 0 view .LVU46
 188 00aa 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
  68:../../shields/Murata-dualstack/src/modem.c ****       case ALP_OP_RETURN_TAG:
 189              		.loc 1 68 5 view .LVU47
 190 00ae 043B     		subs	r3, r3, #4
 191 00b0 1F2B     		cmp	r3, #31
 192 00b2 EED8     		bhi	.L3
 193 00b4 01A2     		adr	r2, .L5
 194 00b6 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 195 00ba 00BF     		.p2align 2
 196              	.L5:
 197 00bc 2B000000 		.word	.L8+1
 198 00c0 93000000 		.word	.L3+1
 199 00c4 93000000 		.word	.L3+1
 200 00c8 93000000 		.word	.L3+1
 201 00cc 93000000 		.word	.L3+1
 202 00d0 93000000 		.word	.L3+1
 203 00d4 93000000 		.word	.L3+1
 204 00d8 93000000 		.word	.L3+1
 205 00dc 93000000 		.word	.L3+1
 206 00e0 93000000 		.word	.L3+1
 207 00e4 93000000 		.word	.L3+1
 208 00e8 93000000 		.word	.L3+1
 209 00ec 93000000 		.word	.L3+1
 210 00f0 93000000 		.word	.L3+1
 211 00f4 93000000 		.word	.L3+1
 212 00f8 93000000 		.word	.L3+1
 213 00fc 93000000 		.word	.L3+1
 214 0100 93000000 		.word	.L3+1
 215 0104 93000000 		.word	.L3+1
 216 0108 93000000 		.word	.L3+1
 217 010c 93000000 		.word	.L3+1
 218 0110 93000000 		.word	.L3+1
 219 0114 93000000 		.word	.L3+1
 220 0118 93000000 		.word	.L3+1
 221 011c 93000000 		.word	.L3+1
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 12


 222 0120 93000000 		.word	.L3+1
 223 0124 93000000 		.word	.L3+1
 224 0128 93000000 		.word	.L3+1
 225 012c 43000000 		.word	.L7+1
 226 0130 93000000 		.word	.L3+1
 227 0134 59000000 		.word	.L6+1
 228 0138 0D000000 		.word	.L4+1
 229              		.p2align 1
 230              	.L18:
 231              	.LBE10:
 105:../../shields/Murata-dualstack/src/modem.c ****         //assert(false);
 106:../../shields/Murata-dualstack/src/modem.c ****     }
 107:../../shields/Murata-dualstack/src/modem.c ****   }
 108:../../shields/Murata-dualstack/src/modem.c **** 
 109:../../shields/Murata-dualstack/src/modem.c **** 
 110:../../shields/Murata-dualstack/src/modem.c ****   if(command_completed) {
 232              		.loc 1 110 3 is_stmt 1 view .LVU48
 233              		.loc 1 110 5 is_stmt 0 view .LVU49
 234 013c 57B1     		cbz	r7, .L1
 111:../../shields/Murata-dualstack/src/modem.c ****     DPRINT("LoRaWAN modem command with tag %i completed ", command.tag_id);
 235              		.loc 1 111 75 is_stmt 1 view .LVU50
 112:../../shields/Murata-dualstack/src/modem.c ****     if(callbacks->command_completed_callback)
 236              		.loc 1 112 5 view .LVU51
 237              		.loc 1 112 17 is_stmt 0 view .LVU52
 238 013e 084B     		ldr	r3, .L19+8
 239 0140 1B68     		ldr	r3, [r3]
 240 0142 1B68     		ldr	r3, [r3]
 241              		.loc 1 112 7 view .LVU53
 242 0144 1BB1     		cbz	r3, .L15
 113:../../shields/Murata-dualstack/src/modem.c ****       callbacks->command_completed_callback(completed_with_error,command.tag_id);
 243              		.loc 1 113 7 is_stmt 1 view .LVU54
 244 0146 044A     		ldr	r2, .L19
 245 0148 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 246 014a 3046     		mov	r0, r6
 247 014c 9847     		blx	r3
 248              	.LVL13:
 249              	.L15:
 114:../../shields/Murata-dualstack/src/modem.c **** 
 115:../../shields/Murata-dualstack/src/modem.c ****     command.is_active = false;
 250              		.loc 1 115 5 view .LVU55
 251              		.loc 1 115 23 is_stmt 0 view .LVU56
 252 014e 024B     		ldr	r3, .L19
 253 0150 0022     		movs	r2, #0
 254 0152 5A70     		strb	r2, [r3, #1]
 255              	.L1:
 116:../../shields/Murata-dualstack/src/modem.c ****   }
 117:../../shields/Murata-dualstack/src/modem.c **** 
 118:../../shields/Murata-dualstack/src/modem.c **** }
 256              		.loc 1 118 1 view .LVU57
 257 0154 4BB0     		add	sp, sp, #300
 258              	.LCFI2:
 259              		.cfi_def_cfa_offset 20
 260              		@ sp needed
 261 0156 F0BD     		pop	{r4, r5, r6, r7, pc}
 262              	.LVL14:
 263              	.L20:
 264              		.loc 1 118 1 view .LVU58
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 13


 265              		.align	2
 266              	.L19:
 267 0158 00000000 		.word	.LANCHOR0
 268 015c 00000000 		.word	.LC0
 269 0160 00000000 		.word	.LANCHOR1
 270 0164 64000000 		.word	.LC3
 271              		.cfi_endproc
 272              	.LFE127:
 274              		.section	.text.modem_cb_init,"ax",%progbits
 275              		.align	1
 276              		.global	modem_cb_init
 277              		.syntax unified
 278              		.thumb
 279              		.thumb_func
 280              		.fpu fpv4-sp-d16
 282              	modem_cb_init:
 283              	.LVL15:
 284              	.LFB128:
 119:../../shields/Murata-dualstack/src/modem.c **** 
 120:../../shields/Murata-dualstack/src/modem.c **** void modem_cb_init(modem_callbacks_t* cbs)
 121:../../shields/Murata-dualstack/src/modem.c **** {
 285              		.loc 1 121 1 is_stmt 1 view -0
 286              		.cfi_startproc
 287              		@ args = 0, pretend = 0, frame = 0
 288              		@ frame_needed = 0, uses_anonymous_args = 0
 289              		.loc 1 121 1 is_stmt 0 view .LVU60
 290 0000 10B5     		push	{r4, lr}
 291              	.LCFI3:
 292              		.cfi_def_cfa_offset 8
 293              		.cfi_offset 4, -8
 294              		.cfi_offset 14, -4
 295 0002 0446     		mov	r4, r0
 122:../../shields/Murata-dualstack/src/modem.c ****     command.is_active = false;
 296              		.loc 1 122 5 is_stmt 1 view .LVU61
 297              		.loc 1 122 23 is_stmt 0 view .LVU62
 298 0004 064B     		ldr	r3, .L24
 299 0006 0022     		movs	r2, #0
 300 0008 5A70     		strb	r2, [r3, #1]
 123:../../shields/Murata-dualstack/src/modem.c ****     modem_interface_register_handler(&process_serial_frame, SERIAL_MESSAGE_TYPE_ALP_DATA);
 301              		.loc 1 123 5 is_stmt 1 view .LVU63
 302 000a 0121     		movs	r1, #1
 303 000c 0548     		ldr	r0, .L24+4
 304              	.LVL16:
 305              		.loc 1 123 5 is_stmt 0 view .LVU64
 306 000e FFF7FEFF 		bl	modem_interface_register_handler
 307              	.LVL17:
 124:../../shields/Murata-dualstack/src/modem.c ****     callbacks = cbs;
 308              		.loc 1 124 5 is_stmt 1 view .LVU65
 309              		.loc 1 124 15 is_stmt 0 view .LVU66
 310 0012 054B     		ldr	r3, .L24+8
 311 0014 1C60     		str	r4, [r3]
 125:../../shields/Murata-dualstack/src/modem.c ****     if(cbs->modem_rebooted_callback)
 312              		.loc 1 125 5 is_stmt 1 view .LVU67
 313              		.loc 1 125 11 is_stmt 0 view .LVU68
 314 0016 2069     		ldr	r0, [r4, #16]
 315              		.loc 1 125 7 view .LVU69
 316 0018 08B1     		cbz	r0, .L21
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 14


 126:../../shields/Murata-dualstack/src/modem.c ****       modem_interface_set_target_rebooted_callback(cbs->modem_rebooted_callback);
 317              		.loc 1 126 7 is_stmt 1 view .LVU70
 318 001a FFF7FEFF 		bl	modem_interface_set_target_rebooted_callback
 319              	.LVL18:
 320              	.L21:
 127:../../shields/Murata-dualstack/src/modem.c **** }
 321              		.loc 1 127 1 is_stmt 0 view .LVU71
 322 001e 10BD     		pop	{r4, pc}
 323              	.LVL19:
 324              	.L25:
 325              		.loc 1 127 1 view .LVU72
 326              		.align	2
 327              	.L24:
 328 0020 00000000 		.word	.LANCHOR0
 329 0024 00000000 		.word	process_serial_frame
 330 0028 00000000 		.word	.LANCHOR1
 331              		.cfi_endproc
 332              	.LFE128:
 334              		.section	.text.modem_process_fifo,"ax",%progbits
 335              		.align	1
 336              		.global	modem_process_fifo
 337              		.syntax unified
 338              		.thumb
 339              		.thumb_func
 340              		.fpu fpv4-sp-d16
 342              	modem_process_fifo:
 343              	.LFB129:
 128:../../shields/Murata-dualstack/src/modem.c **** 
 129:../../shields/Murata-dualstack/src/modem.c **** uint8_t modem_process_fifo()
 130:../../shields/Murata-dualstack/src/modem.c **** {
 344              		.loc 1 130 1 is_stmt 1 view -0
 345              		.cfi_startproc
 346              		@ args = 0, pretend = 0, frame = 0
 347              		@ frame_needed = 0, uses_anonymous_args = 0
 348 0000 38B5     		push	{r3, r4, r5, lr}
 349              	.LCFI4:
 350              		.cfi_def_cfa_offset 16
 351              		.cfi_offset 3, -16
 352              		.cfi_offset 4, -12
 353              		.cfi_offset 5, -8
 354              		.cfi_offset 14, -4
 131:../../shields/Murata-dualstack/src/modem.c ****   uint8_t retries = 0;
 355              		.loc 1 131 3 view .LVU74
 356              	.LVL20:
 132:../../shields/Murata-dualstack/src/modem.c ****   uint8_t status = 0;
 357              		.loc 1 132 3 view .LVU75
 133:../../shields/Murata-dualstack/src/modem.c ****   while(fifo_get_size(&rx_fifo) && retries < 50)
 358              		.loc 1 133 3 view .LVU76
 132:../../shields/Murata-dualstack/src/modem.c ****   uint8_t status = 0;
 359              		.loc 1 132 11 is_stmt 0 view .LVU77
 360 0002 0025     		movs	r5, #0
 131:../../shields/Murata-dualstack/src/modem.c ****   uint8_t retries = 0;
 361              		.loc 1 131 11 view .LVU78
 362 0004 2C46     		mov	r4, r5
 363              	.LVL21:
 364              	.L27:
 365              		.loc 1 133 9 view .LVU79
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 15


 366 0006 0948     		ldr	r0, .L31
 367 0008 FFF7FEFF 		bl	fifo_get_size
 368              	.LVL22:
 369              		.loc 1 133 8 view .LVU80
 370 000c 58B1     		cbz	r0, .L28
 371              		.loc 1 133 33 discriminator 1 view .LVU81
 372 000e 312C     		cmp	r4, #49
 373 0010 09D8     		bhi	.L28
 374              	.LBB11:
 134:../../shields/Murata-dualstack/src/modem.c ****   { 
 135:../../shields/Murata-dualstack/src/modem.c ****     status = (uint8_t)process_rx_fifo(NULL);
 375              		.loc 1 135 5 is_stmt 1 view .LVU82
 376              		.loc 1 135 23 is_stmt 0 view .LVU83
 377 0012 0020     		movs	r0, #0
 378 0014 FFF7FEFF 		bl	process_rx_fifo
 379              	.LVL23:
 380              		.loc 1 135 12 view .LVU84
 381 0018 C5B2     		uxtb	r5, r0
 382              	.LVL24:
 136:../../shields/Murata-dualstack/src/modem.c ****     HAL_Delay(50);
 383              		.loc 1 136 5 is_stmt 1 view .LVU85
 384 001a 3220     		movs	r0, #50
 385 001c FFF7FEFF 		bl	HAL_Delay
 386              	.LVL25:
 137:../../shields/Murata-dualstack/src/modem.c ****     retries++;
 387              		.loc 1 137 5 view .LVU86
 388              		.loc 1 137 12 is_stmt 0 view .LVU87
 389 0020 0134     		adds	r4, r4, #1
 390              	.LVL26:
 391              		.loc 1 137 12 view .LVU88
 392 0022 E4B2     		uxtb	r4, r4
 393              	.LVL27:
 394              		.loc 1 137 12 view .LVU89
 395 0024 EFE7     		b	.L27
 396              	.L28:
 397              		.loc 1 137 12 view .LVU90
 398              	.LBE11:
 138:../../shields/Murata-dualstack/src/modem.c ****   }
 139:../../shields/Murata-dualstack/src/modem.c ****   return status;
 399              		.loc 1 139 3 is_stmt 1 view .LVU91
 140:../../shields/Murata-dualstack/src/modem.c **** }
 400              		.loc 1 140 1 is_stmt 0 view .LVU92
 401 0026 2846     		mov	r0, r5
 402 0028 38BD     		pop	{r3, r4, r5, pc}
 403              	.LVL28:
 404              	.L32:
 405              		.loc 1 140 1 view .LVU93
 406 002a 00BF     		.align	2
 407              	.L31:
 408 002c 00000000 		.word	rx_fifo
 409              		.cfi_endproc
 410              	.LFE129:
 412              		.section	.text.modem_reinit,"ax",%progbits
 413              		.align	1
 414              		.global	modem_reinit
 415              		.syntax unified
 416              		.thumb
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 16


 417              		.thumb_func
 418              		.fpu fpv4-sp-d16
 420              	modem_reinit:
 421              	.LFB130:
 141:../../shields/Murata-dualstack/src/modem.c **** 
 142:../../shields/Murata-dualstack/src/modem.c **** void modem_reinit() {
 422              		.loc 1 142 21 is_stmt 1 view -0
 423              		.cfi_startproc
 424              		@ args = 0, pretend = 0, frame = 0
 425              		@ frame_needed = 0, uses_anonymous_args = 0
 426              		@ link register save eliminated.
 143:../../shields/Murata-dualstack/src/modem.c ****   command.is_active = false;
 427              		.loc 1 143 3 view .LVU95
 428              		.loc 1 143 21 is_stmt 0 view .LVU96
 429 0000 014B     		ldr	r3, .L34
 430 0002 0022     		movs	r2, #0
 431 0004 5A70     		strb	r2, [r3, #1]
 144:../../shields/Murata-dualstack/src/modem.c **** }
 432              		.loc 1 144 1 view .LVU97
 433 0006 7047     		bx	lr
 434              	.L35:
 435              		.align	2
 436              	.L34:
 437 0008 00000000 		.word	.LANCHOR0
 438              		.cfi_endproc
 439              	.LFE130:
 441              		.section	.text.modem_send_ping,"ax",%progbits
 442              		.align	1
 443              		.global	modem_send_ping
 444              		.syntax unified
 445              		.thumb
 446              		.thumb_func
 447              		.fpu fpv4-sp-d16
 449              	modem_send_ping:
 450              	.LFB131:
 145:../../shields/Murata-dualstack/src/modem.c **** 
 146:../../shields/Murata-dualstack/src/modem.c **** void modem_send_ping() {
 451              		.loc 1 146 24 is_stmt 1 view -0
 452              		.cfi_startproc
 453              		@ args = 0, pretend = 0, frame = 8
 454              		@ frame_needed = 0, uses_anonymous_args = 0
 455 0000 00B5     		push	{lr}
 456              	.LCFI5:
 457              		.cfi_def_cfa_offset 4
 458              		.cfi_offset 14, -4
 459 0002 83B0     		sub	sp, sp, #12
 460              	.LCFI6:
 461              		.cfi_def_cfa_offset 16
 147:../../shields/Murata-dualstack/src/modem.c ****   uint8_t ping_request[1]={0x01};
 462              		.loc 1 147 3 view .LVU99
 463              		.loc 1 147 11 is_stmt 0 view .LVU100
 464 0004 0121     		movs	r1, #1
 465 0006 8DF80410 		strb	r1, [sp, #4]
 148:../../shields/Murata-dualstack/src/modem.c ****   modem_interface_transfer_bytes((uint8_t*) &ping_request, 1, SERIAL_MESSAGE_TYPE_PING_REQUEST);
 466              		.loc 1 148 3 is_stmt 1 view .LVU101
 467 000a 0222     		movs	r2, #2
 468 000c 01A8     		add	r0, sp, #4
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 17


 469 000e FFF7FEFF 		bl	modem_interface_transfer_bytes
 470              	.LVL29:
 149:../../shields/Murata-dualstack/src/modem.c **** }
 471              		.loc 1 149 1 is_stmt 0 view .LVU102
 472 0012 03B0     		add	sp, sp, #12
 473              	.LCFI7:
 474              		.cfi_def_cfa_offset 4
 475              		@ sp needed
 476 0014 5DF804FB 		ldr	pc, [sp], #4
 477              		.cfi_endproc
 478              	.LFE131:
 480              		.section	.text.modem_execute_raw_alp,"ax",%progbits
 481              		.align	1
 482              		.global	modem_execute_raw_alp
 483              		.syntax unified
 484              		.thumb
 485              		.thumb_func
 486              		.fpu fpv4-sp-d16
 488              	modem_execute_raw_alp:
 489              	.LVL30:
 490              	.LFB132:
 150:../../shields/Murata-dualstack/src/modem.c **** 
 151:../../shields/Murata-dualstack/src/modem.c **** bool modem_execute_raw_alp(uint8_t* alp, uint8_t len) {
 491              		.loc 1 151 55 is_stmt 1 view -0
 492              		.cfi_startproc
 493              		@ args = 0, pretend = 0, frame = 0
 494              		@ frame_needed = 0, uses_anonymous_args = 0
 495              		.loc 1 151 55 is_stmt 0 view .LVU104
 496 0000 08B5     		push	{r3, lr}
 497              	.LCFI8:
 498              		.cfi_def_cfa_offset 8
 499              		.cfi_offset 3, -8
 500              		.cfi_offset 14, -4
 152:../../shields/Murata-dualstack/src/modem.c ****   modem_interface_transfer_bytes(alp, len, SERIAL_MESSAGE_TYPE_ALP_DATA);
 501              		.loc 1 152 3 is_stmt 1 view .LVU105
 502 0002 0122     		movs	r2, #1
 503 0004 FFF7FEFF 		bl	modem_interface_transfer_bytes
 504              	.LVL31:
 153:../../shields/Murata-dualstack/src/modem.c **** }
 505              		.loc 1 153 1 is_stmt 0 view .LVU106
 506 0008 08BD     		pop	{r3, pc}
 507              		.cfi_endproc
 508              	.LFE132:
 510              		.section	.text.alloc_command,"ax",%progbits
 511              		.align	1
 512              		.global	alloc_command
 513              		.syntax unified
 514              		.thumb
 515              		.thumb_func
 516              		.fpu fpv4-sp-d16
 518              	alloc_command:
 519              	.LFB133:
 154:../../shields/Murata-dualstack/src/modem.c **** 
 155:../../shields/Murata-dualstack/src/modem.c **** bool alloc_command() {
 520              		.loc 1 155 22 is_stmt 1 view -0
 521              		.cfi_startproc
 522              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 18


 523              		@ frame_needed = 0, uses_anonymous_args = 0
 524 0000 70B5     		push	{r4, r5, r6, lr}
 525              	.LCFI9:
 526              		.cfi_def_cfa_offset 16
 527              		.cfi_offset 4, -16
 528              		.cfi_offset 5, -12
 529              		.cfi_offset 6, -8
 530              		.cfi_offset 14, -4
 156:../../shields/Murata-dualstack/src/modem.c ****   if(command.is_active) {
 531              		.loc 1 156 3 view .LVU108
 532              		.loc 1 156 13 is_stmt 0 view .LVU109
 533 0002 0F4B     		ldr	r3, .L45
 534 0004 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 535              		.loc 1 156 5 view .LVU110
 536 0006 ABB9     		cbnz	r3, .L44
 157:../../shields/Murata-dualstack/src/modem.c ****     printf("prev command still active");
 158:../../shields/Murata-dualstack/src/modem.c ****     return false;
 159:../../shields/Murata-dualstack/src/modem.c ****   }
 160:../../shields/Murata-dualstack/src/modem.c **** 
 161:../../shields/Murata-dualstack/src/modem.c ****   command.is_active = true;
 537              		.loc 1 161 3 is_stmt 1 view .LVU111
 538              		.loc 1 161 21 is_stmt 0 view .LVU112
 539 0008 0D4D     		ldr	r5, .L45
 540 000a 0124     		movs	r4, #1
 541 000c 6C70     		strb	r4, [r5, #1]
 162:../../shields/Murata-dualstack/src/modem.c ****   fifo_init(&command.fifo, command.buffer, CMD_BUFFER_SIZE);
 542              		.loc 1 162 3 is_stmt 1 view .LVU113
 543 000e 2E1D     		adds	r6, r5, #4
 544 0010 4FF48072 		mov	r2, #256
 545 0014 05F11401 		add	r1, r5, #20
 546 0018 3046     		mov	r0, r6
 547 001a FFF7FEFF 		bl	fifo_init
 548              	.LVL32:
 163:../../shields/Murata-dualstack/src/modem.c ****   command.tag_id = next_tag_id;
 549              		.loc 1 163 3 view .LVU114
 550              		.loc 1 163 18 is_stmt 0 view .LVU115
 551 001e 094B     		ldr	r3, .L45+4
 552 0020 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 553 0022 2970     		strb	r1, [r5]
 164:../../shields/Murata-dualstack/src/modem.c ****   next_tag_id++;
 554              		.loc 1 164 3 is_stmt 1 view .LVU116
 555              		.loc 1 164 14 is_stmt 0 view .LVU117
 556 0024 0A19     		adds	r2, r1, r4
 557 0026 1A70     		strb	r2, [r3]
 165:../../shields/Murata-dualstack/src/modem.c **** 
 166:../../shields/Murata-dualstack/src/modem.c ****   alp_append_tag_request_action(&command.fifo, command.tag_id, true);
 558              		.loc 1 166 3 is_stmt 1 view .LVU118
 559 0028 2246     		mov	r2, r4
 560 002a 3046     		mov	r0, r6
 561 002c FFF7FEFF 		bl	alp_append_tag_request_action
 562              	.LVL33:
 167:../../shields/Murata-dualstack/src/modem.c ****   return true;
 563              		.loc 1 167 3 view .LVU119
 564              		.loc 1 167 10 is_stmt 0 view .LVU120
 565 0030 2046     		mov	r0, r4
 566              	.L42:
 168:../../shields/Murata-dualstack/src/modem.c **** }
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 19


 567              		.loc 1 168 1 view .LVU121
 568 0032 70BD     		pop	{r4, r5, r6, pc}
 569              	.L44:
 157:../../shields/Murata-dualstack/src/modem.c ****     return false;
 570              		.loc 1 157 5 is_stmt 1 view .LVU122
 571 0034 0448     		ldr	r0, .L45+8
 572 0036 FFF7FEFF 		bl	printf
 573              	.LVL34:
 158:../../shields/Murata-dualstack/src/modem.c ****   }
 574              		.loc 1 158 5 view .LVU123
 158:../../shields/Murata-dualstack/src/modem.c ****   }
 575              		.loc 1 158 12 is_stmt 0 view .LVU124
 576 003a 0020     		movs	r0, #0
 577 003c F9E7     		b	.L42
 578              	.L46:
 579 003e 00BF     		.align	2
 580              	.L45:
 581 0040 00000000 		.word	.LANCHOR0
 582 0044 00000000 		.word	.LANCHOR3
 583 0048 00000000 		.word	.LC4
 584              		.cfi_endproc
 585              	.LFE133:
 587              		.section	.text.modem_read_file,"ax",%progbits
 588              		.align	1
 589              		.global	modem_read_file
 590              		.syntax unified
 591              		.thumb
 592              		.thumb_func
 593              		.fpu fpv4-sp-d16
 595              	modem_read_file:
 596              	.LVL35:
 597              	.LFB134:
 169:../../shields/Murata-dualstack/src/modem.c **** 
 170:../../shields/Murata-dualstack/src/modem.c **** bool modem_read_file(uint8_t file_id, uint32_t offset, uint32_t size) {
 598              		.loc 1 170 71 is_stmt 1 view -0
 599              		.cfi_startproc
 600              		@ args = 0, pretend = 0, frame = 0
 601              		@ frame_needed = 0, uses_anonymous_args = 0
 602              		.loc 1 170 71 is_stmt 0 view .LVU126
 603 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 604              	.LCFI10:
 605              		.cfi_def_cfa_offset 32
 606              		.cfi_offset 4, -32
 607              		.cfi_offset 5, -28
 608              		.cfi_offset 6, -24
 609              		.cfi_offset 7, -20
 610              		.cfi_offset 8, -16
 611              		.cfi_offset 9, -12
 612              		.cfi_offset 10, -8
 613              		.cfi_offset 14, -4
 614 0004 82B0     		sub	sp, sp, #8
 615              	.LCFI11:
 616              		.cfi_def_cfa_offset 40
 617 0006 0546     		mov	r5, r0
 618 0008 0E46     		mov	r6, r1
 619 000a 1746     		mov	r7, r2
 171:../../shields/Murata-dualstack/src/modem.c ****   if(!alloc_command())
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 20


 620              		.loc 1 171 3 is_stmt 1 view .LVU127
 621              		.loc 1 171 7 is_stmt 0 view .LVU128
 622 000c FFF7FEFF 		bl	alloc_command
 623              	.LVL36:
 624              		.loc 1 171 5 view .LVU129
 625 0010 0446     		mov	r4, r0
 626 0012 18B9     		cbnz	r0, .L50
 627              	.L48:
 172:../../shields/Murata-dualstack/src/modem.c ****     return false;
 173:../../shields/Murata-dualstack/src/modem.c **** 
 174:../../shields/Murata-dualstack/src/modem.c ****   alp_append_read_file_data_action(&command.fifo, file_id, offset, size, true, false);
 175:../../shields/Murata-dualstack/src/modem.c **** 
 176:../../shields/Murata-dualstack/src/modem.c ****   modem_interface_transfer_bytes(command.buffer, fifo_get_size(&command.fifo), SERIAL_MESSAGE_TYPE_
 177:../../shields/Murata-dualstack/src/modem.c **** 
 178:../../shields/Murata-dualstack/src/modem.c ****   return true;
 179:../../shields/Murata-dualstack/src/modem.c **** }
 628              		.loc 1 179 1 view .LVU130
 629 0014 2046     		mov	r0, r4
 630 0016 02B0     		add	sp, sp, #8
 631              	.LCFI12:
 632              		.cfi_remember_state
 633              		.cfi_def_cfa_offset 32
 634              		@ sp needed
 635 0018 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 636              	.LVL37:
 637              	.L50:
 638              	.LCFI13:
 639              		.cfi_restore_state
 174:../../shields/Murata-dualstack/src/modem.c **** 
 640              		.loc 1 174 3 is_stmt 1 view .LVU131
 641 001c DFF83080 		ldr	r8, .L51
 642 0020 08F1040A 		add	r10, r8, #4
 643 0024 0023     		movs	r3, #0
 644 0026 0193     		str	r3, [sp, #4]
 645 0028 4FF00109 		mov	r9, #1
 646 002c CDF80090 		str	r9, [sp]
 647 0030 3B46     		mov	r3, r7
 648 0032 3246     		mov	r2, r6
 649 0034 2946     		mov	r1, r5
 650 0036 5046     		mov	r0, r10
 651 0038 FFF7FEFF 		bl	alp_append_read_file_data_action
 652              	.LVL38:
 176:../../shields/Murata-dualstack/src/modem.c **** 
 653              		.loc 1 176 3 view .LVU132
 176:../../shields/Murata-dualstack/src/modem.c **** 
 654              		.loc 1 176 50 is_stmt 0 view .LVU133
 655 003c 5046     		mov	r0, r10
 656 003e FFF7FEFF 		bl	fifo_get_size
 657              	.LVL39:
 176:../../shields/Murata-dualstack/src/modem.c **** 
 658              		.loc 1 176 3 view .LVU134
 659 0042 4A46     		mov	r2, r9
 660 0044 C1B2     		uxtb	r1, r0
 661 0046 08F11400 		add	r0, r8, #20
 662 004a FFF7FEFF 		bl	modem_interface_transfer_bytes
 663              	.LVL40:
 178:../../shields/Murata-dualstack/src/modem.c **** }
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 21


 664              		.loc 1 178 3 is_stmt 1 view .LVU135
 178:../../shields/Murata-dualstack/src/modem.c **** }
 665              		.loc 1 178 10 is_stmt 0 view .LVU136
 666 004e E1E7     		b	.L48
 667              	.L52:
 668              		.align	2
 669              	.L51:
 670 0050 00000000 		.word	.LANCHOR0
 671              		.cfi_endproc
 672              	.LFE134:
 674              		.section	.text.modem_write_file,"ax",%progbits
 675              		.align	1
 676              		.global	modem_write_file
 677              		.syntax unified
 678              		.thumb
 679              		.thumb_func
 680              		.fpu fpv4-sp-d16
 682              	modem_write_file:
 683              	.LVL41:
 684              	.LFB135:
 180:../../shields/Murata-dualstack/src/modem.c **** 
 181:../../shields/Murata-dualstack/src/modem.c **** bool modem_write_file(uint8_t file_id, uint32_t offset, uint32_t size, uint8_t* data) {
 685              		.loc 1 181 87 is_stmt 1 view -0
 686              		.cfi_startproc
 687              		@ args = 0, pretend = 0, frame = 0
 688              		@ frame_needed = 0, uses_anonymous_args = 0
 689              		.loc 1 181 87 is_stmt 0 view .LVU138
 690 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 691              	.LCFI14:
 692              		.cfi_def_cfa_offset 36
 693              		.cfi_offset 4, -36
 694              		.cfi_offset 5, -32
 695              		.cfi_offset 6, -28
 696              		.cfi_offset 7, -24
 697              		.cfi_offset 8, -20
 698              		.cfi_offset 9, -16
 699              		.cfi_offset 10, -12
 700              		.cfi_offset 11, -8
 701              		.cfi_offset 14, -4
 702 0004 85B0     		sub	sp, sp, #20
 703              	.LCFI15:
 704              		.cfi_def_cfa_offset 56
 705 0006 0546     		mov	r5, r0
 706 0008 0E46     		mov	r6, r1
 707 000a 1746     		mov	r7, r2
 708 000c 9846     		mov	r8, r3
 182:../../shields/Murata-dualstack/src/modem.c ****   if(!alloc_command())
 709              		.loc 1 182 3 is_stmt 1 view .LVU139
 710              		.loc 1 182 7 is_stmt 0 view .LVU140
 711 000e FFF7FEFF 		bl	alloc_command
 712              	.LVL42:
 713              		.loc 1 182 5 view .LVU141
 714 0012 0446     		mov	r4, r0
 715 0014 18B9     		cbnz	r0, .L56
 716              	.L54:
 183:../../shields/Murata-dualstack/src/modem.c ****     return false;
 184:../../shields/Murata-dualstack/src/modem.c **** 
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 22


 185:../../shields/Murata-dualstack/src/modem.c ****   alp_append_write_file_data_action(&command.fifo, file_id, offset, size, data, true, false);
 186:../../shields/Murata-dualstack/src/modem.c **** 
 187:../../shields/Murata-dualstack/src/modem.c ****   modem_interface_transfer_bytes(command.buffer, fifo_get_size(&command.fifo), SERIAL_MESSAGE_TYPE_
 188:../../shields/Murata-dualstack/src/modem.c **** 
 189:../../shields/Murata-dualstack/src/modem.c ****   return true;
 190:../../shields/Murata-dualstack/src/modem.c **** }
 717              		.loc 1 190 1 view .LVU142
 718 0016 2046     		mov	r0, r4
 719 0018 05B0     		add	sp, sp, #20
 720              	.LCFI16:
 721              		.cfi_remember_state
 722              		.cfi_def_cfa_offset 36
 723              		@ sp needed
 724 001a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 725              	.LVL43:
 726              	.L56:
 727              	.LCFI17:
 728              		.cfi_restore_state
 185:../../shields/Murata-dualstack/src/modem.c **** 
 729              		.loc 1 185 3 is_stmt 1 view .LVU143
 730 001e DFF83890 		ldr	r9, .L57
 731 0022 09F1040B 		add	fp, r9, #4
 732 0026 0023     		movs	r3, #0
 733 0028 0293     		str	r3, [sp, #8]
 734 002a 4FF0010A 		mov	r10, #1
 735 002e CDF804A0 		str	r10, [sp, #4]
 736 0032 CDF80080 		str	r8, [sp]
 737 0036 3B46     		mov	r3, r7
 738 0038 3246     		mov	r2, r6
 739 003a 2946     		mov	r1, r5
 740 003c 5846     		mov	r0, fp
 741 003e FFF7FEFF 		bl	alp_append_write_file_data_action
 742              	.LVL44:
 187:../../shields/Murata-dualstack/src/modem.c **** 
 743              		.loc 1 187 3 view .LVU144
 187:../../shields/Murata-dualstack/src/modem.c **** 
 744              		.loc 1 187 50 is_stmt 0 view .LVU145
 745 0042 5846     		mov	r0, fp
 746 0044 FFF7FEFF 		bl	fifo_get_size
 747              	.LVL45:
 187:../../shields/Murata-dualstack/src/modem.c **** 
 748              		.loc 1 187 3 view .LVU146
 749 0048 5246     		mov	r2, r10
 750 004a C1B2     		uxtb	r1, r0
 751 004c 09F11400 		add	r0, r9, #20
 752 0050 FFF7FEFF 		bl	modem_interface_transfer_bytes
 753              	.LVL46:
 189:../../shields/Murata-dualstack/src/modem.c **** }
 754              		.loc 1 189 3 is_stmt 1 view .LVU147
 189:../../shields/Murata-dualstack/src/modem.c **** }
 755              		.loc 1 189 10 is_stmt 0 view .LVU148
 756 0054 DFE7     		b	.L54
 757              	.L58:
 758 0056 00BF     		.align	2
 759              	.L57:
 760 0058 00000000 		.word	.LANCHOR0
 761              		.cfi_endproc
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 23


 762              	.LFE135:
 764              		.section	.text.modem_send_unsolicited_response,"ax",%progbits
 765              		.align	1
 766              		.global	modem_send_unsolicited_response
 767              		.syntax unified
 768              		.thumb
 769              		.thumb_func
 770              		.fpu fpv4-sp-d16
 772              	modem_send_unsolicited_response:
 773              	.LVL47:
 774              	.LFB136:
 191:../../shields/Murata-dualstack/src/modem.c **** 
 192:../../shields/Murata-dualstack/src/modem.c **** bool modem_send_unsolicited_response(uint8_t file_id, uint32_t offset, uint32_t length, uint8_t* da
 193:../../shields/Murata-dualstack/src/modem.c ****                                      session_config_t* session_config) {
 775              		.loc 1 193 72 is_stmt 1 view -0
 776              		.cfi_startproc
 777              		@ args = 4, pretend = 0, frame = 0
 778              		@ frame_needed = 0, uses_anonymous_args = 0
 779              		.loc 1 193 72 is_stmt 0 view .LVU150
 780 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 781              	.LCFI18:
 782              		.cfi_def_cfa_offset 32
 783              		.cfi_offset 4, -32
 784              		.cfi_offset 5, -28
 785              		.cfi_offset 6, -24
 786              		.cfi_offset 7, -20
 787              		.cfi_offset 8, -16
 788              		.cfi_offset 9, -12
 789              		.cfi_offset 10, -8
 790              		.cfi_offset 14, -4
 791 0004 82B0     		sub	sp, sp, #8
 792              	.LCFI19:
 793              		.cfi_def_cfa_offset 40
 794 0006 0646     		mov	r6, r0
 795 0008 0F46     		mov	r7, r1
 796 000a 9046     		mov	r8, r2
 797 000c 9946     		mov	r9, r3
 798 000e 0A9C     		ldr	r4, [sp, #40]
 194:../../shields/Murata-dualstack/src/modem.c ****   if(!alloc_command())
 799              		.loc 1 194 3 is_stmt 1 view .LVU151
 800              		.loc 1 194 7 is_stmt 0 view .LVU152
 801 0010 FFF7FEFF 		bl	alloc_command
 802              	.LVL48:
 803              		.loc 1 194 5 view .LVU153
 804 0014 0546     		mov	r5, r0
 805 0016 C8B1     		cbz	r0, .L60
 195:../../shields/Murata-dualstack/src/modem.c ****     return false;
 196:../../shields/Murata-dualstack/src/modem.c **** 
 197:../../shields/Murata-dualstack/src/modem.c ****   if(session_config->interface_type==DASH7)
 806              		.loc 1 197 3 is_stmt 1 view .LVU154
 807              		.loc 1 197 20 is_stmt 0 view .LVU155
 808 0018 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 809              		.loc 1 197 5 view .LVU156
 810 001a DBB1     		cbz	r3, .L65
 198:../../shields/Murata-dualstack/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_D7ASP, (uint8_t *) &session_config->d7ap_se
 199:../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_OTAA)
 811              		.loc 1 199 8 is_stmt 1 view .LVU157
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 24


 812              		.loc 1 199 10 is_stmt 0 view .LVU158
 813 001c 012B     		cmp	r3, #1
 814 001e 20D0     		beq	.L66
 200:../../shields/Murata-dualstack/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_LORAWAN_OTAA, (uint8_t *) &session_config->
 201:../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_ABP)
 815              		.loc 1 201 8 is_stmt 1 view .LVU159
 816              		.loc 1 201 10 is_stmt 0 view .LVU160
 817 0020 022B     		cmp	r3, #2
 818 0022 25D0     		beq	.L67
 819              	.L62:
 202:../../shields/Murata-dualstack/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_LORAWAN_ABP, (uint8_t *) &session_config->l
 203:../../shields/Murata-dualstack/src/modem.c **** 
 204:../../shields/Murata-dualstack/src/modem.c ****   alp_append_return_file_data_action(&command.fifo, file_id, offset, length, data);
 820              		.loc 1 204 3 is_stmt 1 view .LVU161
 821 0024 164C     		ldr	r4, .L68
 822 0026 04F1040A 		add	r10, r4, #4
 823 002a CDF80090 		str	r9, [sp]
 824 002e 4346     		mov	r3, r8
 825 0030 3A46     		mov	r2, r7
 826 0032 3146     		mov	r1, r6
 827 0034 5046     		mov	r0, r10
 828 0036 FFF7FEFF 		bl	alp_append_return_file_data_action
 829              	.LVL49:
 205:../../shields/Murata-dualstack/src/modem.c **** 
 206:../../shields/Murata-dualstack/src/modem.c ****   modem_interface_transfer_bytes(command.buffer, fifo_get_size(&command.fifo), SERIAL_MESSAGE_TYPE_
 830              		.loc 1 206 3 view .LVU162
 831              		.loc 1 206 50 is_stmt 0 view .LVU163
 832 003a 5046     		mov	r0, r10
 833 003c FFF7FEFF 		bl	fifo_get_size
 834              	.LVL50:
 835              		.loc 1 206 3 view .LVU164
 836 0040 0122     		movs	r2, #1
 837 0042 C1B2     		uxtb	r1, r0
 838 0044 04F11400 		add	r0, r4, #20
 839 0048 FFF7FEFF 		bl	modem_interface_transfer_bytes
 840              	.LVL51:
 207:../../shields/Murata-dualstack/src/modem.c ****   return true;
 841              		.loc 1 207 3 is_stmt 1 view .LVU165
 842              	.L60:
 208:../../shields/Murata-dualstack/src/modem.c **** }
 843              		.loc 1 208 1 is_stmt 0 view .LVU166
 844 004c 2846     		mov	r0, r5
 845 004e 02B0     		add	sp, sp, #8
 846              	.LCFI20:
 847              		.cfi_remember_state
 848              		.cfi_def_cfa_offset 32
 849              		@ sp needed
 850 0050 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 851              	.LVL52:
 852              	.L65:
 853              	.LCFI21:
 854              		.cfi_restore_state
 198:../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_OTAA)
 855              		.loc 1 198 5 is_stmt 1 view .LVU167
 856 0054 0C23     		movs	r3, #12
 857 0056 221D     		adds	r2, r4, #4
 858 0058 D721     		movs	r1, #215
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 25


 859 005a 0A48     		ldr	r0, .L68+4
 860 005c FFF7FEFF 		bl	alp_append_forward_action
 861              	.LVL53:
 862 0060 E0E7     		b	.L62
 863              	.L66:
 200:../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_ABP)
 864              		.loc 1 200 5 view .LVU168
 865 0062 2423     		movs	r3, #36
 866 0064 221D     		adds	r2, r4, #4
 867 0066 0321     		movs	r1, #3
 868 0068 0648     		ldr	r0, .L68+4
 869 006a FFF7FEFF 		bl	alp_append_forward_action
 870              	.LVL54:
 871 006e D9E7     		b	.L62
 872              	.L67:
 202:../../shields/Murata-dualstack/src/modem.c **** 
 873              		.loc 1 202 5 view .LVU169
 874 0070 2C23     		movs	r3, #44
 875 0072 221D     		adds	r2, r4, #4
 876 0074 0221     		movs	r1, #2
 877 0076 0348     		ldr	r0, .L68+4
 878 0078 FFF7FEFF 		bl	alp_append_forward_action
 879              	.LVL55:
 880 007c D2E7     		b	.L62
 881              	.L69:
 882 007e 00BF     		.align	2
 883              	.L68:
 884 0080 00000000 		.word	.LANCHOR0
 885 0084 04000000 		.word	.LANCHOR0+4
 886              		.cfi_endproc
 887              	.LFE136:
 889              		.section	.text.modem_send_raw_unsolicited_response,"ax",%progbits
 890              		.align	1
 891              		.global	modem_send_raw_unsolicited_response
 892              		.syntax unified
 893              		.thumb
 894              		.thumb_func
 895              		.fpu fpv4-sp-d16
 897              	modem_send_raw_unsolicited_response:
 898              	.LVL56:
 899              	.LFB137:
 209:../../shields/Murata-dualstack/src/modem.c **** 
 210:../../shields/Murata-dualstack/src/modem.c **** bool modem_send_raw_unsolicited_response(uint8_t* alp_command, uint32_t length,
 211:../../shields/Murata-dualstack/src/modem.c ****                                          session_config_t* session_config) {
 900              		.loc 1 211 76 view -0
 901              		.cfi_startproc
 902              		@ args = 0, pretend = 0, frame = 0
 903              		@ frame_needed = 0, uses_anonymous_args = 0
 904              		.loc 1 211 76 is_stmt 0 view .LVU171
 905 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 906              	.LCFI22:
 907              		.cfi_def_cfa_offset 24
 908              		.cfi_offset 4, -24
 909              		.cfi_offset 5, -20
 910              		.cfi_offset 6, -16
 911              		.cfi_offset 7, -12
 912              		.cfi_offset 8, -8
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 26


 913              		.cfi_offset 14, -4
 914 0004 0746     		mov	r7, r0
 915 0006 8846     		mov	r8, r1
 916 0008 1446     		mov	r4, r2
 212:../../shields/Murata-dualstack/src/modem.c ****   if(!alloc_command())
 917              		.loc 1 212 3 is_stmt 1 view .LVU172
 918              		.loc 1 212 7 is_stmt 0 view .LVU173
 919 000a FFF7FEFF 		bl	alloc_command
 920              	.LVL57:
 921              		.loc 1 212 5 view .LVU174
 922 000e 0546     		mov	r5, r0
 923 0010 B0B1     		cbz	r0, .L71
 213:../../shields/Murata-dualstack/src/modem.c ****     return false;
 214:../../shields/Murata-dualstack/src/modem.c **** 
 215:../../shields/Murata-dualstack/src/modem.c ****    if(session_config->interface_type==DASH7)
 924              		.loc 1 215 4 is_stmt 1 view .LVU175
 925              		.loc 1 215 21 is_stmt 0 view .LVU176
 926 0012 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 927              		.loc 1 215 6 view .LVU177
 928 0014 BBB1     		cbz	r3, .L76
 216:../../shields/Murata-dualstack/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_D7ASP, (uint8_t *) &session_config->d7ap_se
 217:../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_OTAA)
 929              		.loc 1 217 8 is_stmt 1 view .LVU178
 930              		.loc 1 217 10 is_stmt 0 view .LVU179
 931 0016 012B     		cmp	r3, #1
 932 0018 1CD0     		beq	.L77
 218:../../shields/Murata-dualstack/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_LORAWAN_OTAA, (uint8_t *) &session_config->
 219:../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_ABP)
 933              		.loc 1 219 8 is_stmt 1 view .LVU180
 934              		.loc 1 219 10 is_stmt 0 view .LVU181
 935 001a 022B     		cmp	r3, #2
 936 001c 21D0     		beq	.L78
 937              	.L73:
 220:../../shields/Murata-dualstack/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_LORAWAN_ABP, (uint8_t *) &session_config->l
 221:../../shields/Murata-dualstack/src/modem.c **** 
 222:../../shields/Murata-dualstack/src/modem.c ****   fifo_put(&command.fifo, alp_command, length);
 938              		.loc 1 222 3 is_stmt 1 view .LVU182
 939 001e 144C     		ldr	r4, .L79
 940              	.LVL58:
 941              		.loc 1 222 3 is_stmt 0 view .LVU183
 942 0020 261D     		adds	r6, r4, #4
 943 0022 1FFA88F2 		uxth	r2, r8
 944 0026 3946     		mov	r1, r7
 945 0028 3046     		mov	r0, r6
 946 002a FFF7FEFF 		bl	fifo_put
 947              	.LVL59:
 223:../../shields/Murata-dualstack/src/modem.c **** 
 224:../../shields/Murata-dualstack/src/modem.c ****   modem_interface_transfer_bytes(command.buffer, fifo_get_size(&command.fifo), SERIAL_MESSAGE_TYPE_
 948              		.loc 1 224 3 is_stmt 1 view .LVU184
 949              		.loc 1 224 50 is_stmt 0 view .LVU185
 950 002e 3046     		mov	r0, r6
 951 0030 FFF7FEFF 		bl	fifo_get_size
 952              	.LVL60:
 953              		.loc 1 224 3 view .LVU186
 954 0034 0122     		movs	r2, #1
 955 0036 C1B2     		uxtb	r1, r0
 956 0038 04F11400 		add	r0, r4, #20
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 27


 957 003c FFF7FEFF 		bl	modem_interface_transfer_bytes
 958              	.LVL61:
 225:../../shields/Murata-dualstack/src/modem.c ****   return true;
 959              		.loc 1 225 3 is_stmt 1 view .LVU187
 960              	.L71:
 226:../../shields/Murata-dualstack/src/modem.c **** }
 961              		.loc 1 226 1 is_stmt 0 view .LVU188
 962 0040 2846     		mov	r0, r5
 963 0042 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 964              	.LVL62:
 965              	.L76:
 216:../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_OTAA)
 966              		.loc 1 216 5 is_stmt 1 view .LVU189
 967 0046 0C23     		movs	r3, #12
 968 0048 221D     		adds	r2, r4, #4
 969 004a D721     		movs	r1, #215
 970 004c 0948     		ldr	r0, .L79+4
 971 004e FFF7FEFF 		bl	alp_append_forward_action
 972              	.LVL63:
 973 0052 E4E7     		b	.L73
 974              	.L77:
 218:../../shields/Murata-dualstack/src/modem.c ****   else if(session_config->interface_type==LORAWAN_ABP)
 975              		.loc 1 218 5 view .LVU190
 976 0054 2423     		movs	r3, #36
 977 0056 221D     		adds	r2, r4, #4
 978 0058 0321     		movs	r1, #3
 979 005a 0648     		ldr	r0, .L79+4
 980 005c FFF7FEFF 		bl	alp_append_forward_action
 981              	.LVL64:
 982 0060 DDE7     		b	.L73
 983              	.L78:
 220:../../shields/Murata-dualstack/src/modem.c **** 
 984              		.loc 1 220 5 view .LVU191
 985 0062 2C23     		movs	r3, #44
 986 0064 221D     		adds	r2, r4, #4
 987 0066 0221     		movs	r1, #2
 988 0068 0248     		ldr	r0, .L79+4
 989 006a FFF7FEFF 		bl	alp_append_forward_action
 990              	.LVL65:
 991 006e D6E7     		b	.L73
 992              	.L80:
 993              		.align	2
 994              	.L79:
 995 0070 00000000 		.word	.LANCHOR0
 996 0074 04000000 		.word	.LANCHOR0+4
 997              		.cfi_endproc
 998              	.LFE137:
 1000              		.section	.text.modem_get_active_tag_id,"ax",%progbits
 1001              		.align	1
 1002              		.global	modem_get_active_tag_id
 1003              		.syntax unified
 1004              		.thumb
 1005              		.thumb_func
 1006              		.fpu fpv4-sp-d16
 1008              	modem_get_active_tag_id:
 1009              	.LFB138:
 227:../../shields/Murata-dualstack/src/modem.c **** 
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 28


 228:../../shields/Murata-dualstack/src/modem.c **** uint8_t modem_get_active_tag_id()
 229:../../shields/Murata-dualstack/src/modem.c **** {
 1010              		.loc 1 229 1 view -0
 1011              		.cfi_startproc
 1012              		@ args = 0, pretend = 0, frame = 0
 1013              		@ frame_needed = 0, uses_anonymous_args = 0
 1014              		@ link register save eliminated.
 230:../../shields/Murata-dualstack/src/modem.c ****   return next_tag_id;
 1015              		.loc 1 230 3 view .LVU193
 231:../../shields/Murata-dualstack/src/modem.c **** }
 1016              		.loc 1 231 1 is_stmt 0 view .LVU194
 1017 0000 014B     		ldr	r3, .L82
 1018 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1019 0004 7047     		bx	lr
 1020              	.L83:
 1021 0006 00BF     		.align	2
 1022              	.L82:
 1023 0008 00000000 		.word	.LANCHOR3
 1024              		.cfi_endproc
 1025              	.LFE138:
 1027              		.section	.bss.callbacks,"aw",%nobits
 1028              		.align	2
 1029              		.set	.LANCHOR1,. + 0
 1032              	callbacks:
 1033 0000 00000000 		.space	4
 1034              		.section	.bss.command,"aw",%nobits
 1035              		.align	2
 1036              		.set	.LANCHOR0,. + 0
 1039              	command:
 1040 0000 00000000 		.space	276
 1040      00000000 
 1040      00000000 
 1040      00000000 
 1040      00000000 
 1041              		.section	.bss.next_tag_id,"aw",%nobits
 1042              		.set	.LANCHOR3,. + 0
 1045              	next_tag_id:
 1046 0000 00       		.space	1
 1047              		.section	.rodata.__func__.5707,"a"
 1048              		.align	2
 1049              		.set	.LANCHOR2,. + 0
 1052              	__func__.5707:
 1053 0000 64376170 		.ascii	"d7ap_addressee_id_length\000"
 1053      5F616464 
 1053      72657373 
 1053      65655F69 
 1053      645F6C65 
 1054              		.section	.rodata.alloc_command.str1.4,"aMS",%progbits,1
 1055              		.align	2
 1056              	.LC4:
 1057 0000 70726576 		.ascii	"prev command still active\000"
 1057      20636F6D 
 1057      6D616E64 
 1057      20737469 
 1057      6C6C2061 
 1058              		.section	.rodata.process_serial_frame.str1.4,"aMS",%progbits,1
 1059              		.align	2
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 29


 1060              	.LC0:
 1061 0000 72656365 		.ascii	"received resp with unexpected tag_id (%i vs %i)\000"
 1061      69766564 
 1061      20726573 
 1061      70207769 
 1061      74682075 
 1062              	.LC1:
 1063 0030 66616C73 		.ascii	"false\000"
 1063      6500
 1064 0036 0000     		.space	2
 1065              	.LC2:
 1066 0038 2E2E2F2E 		.ascii	"../../shields/Murata-dualstack/inc/d7ap.h\000"
 1066      2E2F7368 
 1066      69656C64 
 1066      732F4D75 
 1066      72617461 
 1067 0062 0000     		.space	2
 1068              	.LC3:
 1069 0064 756E6B6E 		.ascii	"unknown serial frame\015\000"
 1069      6F776E20 
 1069      73657269 
 1069      616C2066 
 1069      72616D65 
 1070              		.text
 1071              	.Letext0:
 1072              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\include
 1073              		.file 4 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\include
 1074              		.file 5 "../../shields/Murata-dualstack/inc/lorawan_stack.h"
 1075              		.file 6 "../../shields/Murata-dualstack/inc/fifo.h"
 1076              		.file 7 "../../shields/Murata-dualstack/inc/alp.h"
 1077              		.file 8 "../../core/ST/CMSIS/Include/core_cm4.h"
 1078              		.file 9 "../../core/ST/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 1079              		.file 10 "../../core/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 1080              		.file 11 "../../shields/Murata-dualstack/inc/modem_interface.h"
 1081              		.file 12 "../../shields/Murata-dualstack/inc/modem.h"
 1082              		.file 13 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\lib\\gcc\\arm-none-ea
 1083              		.file 14 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\includ
 1084              		.file 15 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\includ
 1085              		.file 16 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\includ
 1086              		.file 17 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\includ
 1087              		.file 18 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\includ
 1088              		.file 19 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\includ
 1089              		.file 20 "<built-in>"
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 30


DEFINED SYMBOLS
                            *ABS*:00000000 modem.c
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:18     .text.process_serial_frame:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:25     .text.process_serial_frame:00000000 process_serial_frame
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:197    .text.process_serial_frame:000000bc $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:229    .text.process_serial_frame:0000013c $t
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:267    .text.process_serial_frame:00000158 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:275    .text.modem_cb_init:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:282    .text.modem_cb_init:00000000 modem_cb_init
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:328    .text.modem_cb_init:00000020 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:335    .text.modem_process_fifo:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:342    .text.modem_process_fifo:00000000 modem_process_fifo
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:408    .text.modem_process_fifo:0000002c $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:413    .text.modem_reinit:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:420    .text.modem_reinit:00000000 modem_reinit
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:437    .text.modem_reinit:00000008 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:442    .text.modem_send_ping:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:449    .text.modem_send_ping:00000000 modem_send_ping
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:481    .text.modem_execute_raw_alp:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:488    .text.modem_execute_raw_alp:00000000 modem_execute_raw_alp
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:511    .text.alloc_command:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:518    .text.alloc_command:00000000 alloc_command
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:581    .text.alloc_command:00000040 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:588    .text.modem_read_file:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:595    .text.modem_read_file:00000000 modem_read_file
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:670    .text.modem_read_file:00000050 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:675    .text.modem_write_file:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:682    .text.modem_write_file:00000000 modem_write_file
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:760    .text.modem_write_file:00000058 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:765    .text.modem_send_unsolicited_response:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:772    .text.modem_send_unsolicited_response:00000000 modem_send_unsolicited_response
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:884    .text.modem_send_unsolicited_response:00000080 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:890    .text.modem_send_raw_unsolicited_response:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:897    .text.modem_send_raw_unsolicited_response:00000000 modem_send_raw_unsolicited_response
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:995    .text.modem_send_raw_unsolicited_response:00000070 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:1001   .text.modem_get_active_tag_id:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:1008   .text.modem_get_active_tag_id:00000000 modem_get_active_tag_id
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:1023   .text.modem_get_active_tag_id:00000008 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:1028   .bss.callbacks:00000000 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:1032   .bss.callbacks:00000000 callbacks
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:1035   .bss.command:00000000 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:1039   .bss.command:00000000 command
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:1045   .bss.next_tag_id:00000000 next_tag_id
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:1046   .bss.next_tag_id:00000000 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:1048   .rodata.__func__.5707:00000000 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:1052   .rodata.__func__.5707:00000000 __func__.5707
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:1055   .rodata.alloc_command.str1.4:00000000 $d
C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s:1059   .rodata.process_serial_frame.str1.4:00000000 $d

UNDEFINED SYMBOLS
printf
puts
fifo_get_size
alp_parse_action
modem_interface_register_handler
modem_interface_set_target_rebooted_callback
process_rx_fifo
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\cce9sdtD.s 			page 31


HAL_Delay
rx_fifo
modem_interface_transfer_bytes
fifo_init
alp_append_tag_request_action
alp_append_read_file_data_action
alp_append_write_file_data_action
alp_append_return_file_data_action
alp_append_forward_action
fifo_put
