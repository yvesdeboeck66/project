ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"modem.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.process_serial_frame,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	process_serial_frame:
  26              	.LVL0:
  27              	.LFB127:
  28              		.file 1 "../../shields/Murata/src/modem.c"
   1:../../shields/Murata/src/modem.c **** /* * OSS-7 - An opensource implementation of the DASH7 Alliance Protocol for ultra
   2:../../shields/Murata/src/modem.c ****  * lowpower wireless sensor communication
   3:../../shields/Murata/src/modem.c ****  *
   4:../../shields/Murata/src/modem.c ****  * Copyright 2015 University of Antwerp
   5:../../shields/Murata/src/modem.c ****  *
   6:../../shields/Murata/src/modem.c ****  * Licensed under the Apache License, Version 2.0 (the "License");
   7:../../shields/Murata/src/modem.c ****  * you may not use this file except in compliance with the License.
   8:../../shields/Murata/src/modem.c ****  * You may obtain a copy of the License at
   9:../../shields/Murata/src/modem.c ****  *
  10:../../shields/Murata/src/modem.c ****  *   http://www.apache.org/licenses/LICENSE-2.0
  11:../../shields/Murata/src/modem.c ****  *
  12:../../shields/Murata/src/modem.c ****  * Unless required by applicable law or agreed to in writing, software
  13:../../shields/Murata/src/modem.c ****  * distributed under the License is distributed on an "AS IS" BASIS,
  14:../../shields/Murata/src/modem.c ****  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  15:../../shields/Murata/src/modem.c ****  * See the License for the specific language governing permissions and
  16:../../shields/Murata/src/modem.c ****  * limitations under the License.
  17:../../shields/Murata/src/modem.c ****  */
  18:../../shields/Murata/src/modem.c **** 
  19:../../shields/Murata/src/modem.c **** #include "modem.h"
  20:../../shields/Murata/src/modem.c **** //#include "debug.h"
  21:../../shields/Murata/src/modem.c **** //#include "log.h"
  22:../../shields/Murata/src/modem.c **** #include "errors.h"
  23:../../shields/Murata/src/modem.c **** #include "fifo.h"
  24:../../shields/Murata/src/modem.c **** #include "alp.h"
  25:../../shields/Murata/src/modem.c **** //#include "scheduler.h"
  26:../../shields/Murata/src/modem.c **** //#include "timer.h"
  27:../../shields/Murata/src/modem.c **** #include "d7ap.h"
  28:../../shields/Murata/src/modem.c **** #include <stdio.h>
  29:../../shields/Murata/src/modem.c **** #include <stdlib.h>
  30:../../shields/Murata/src/modem.c **** //#include "platform.h"
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 2


  31:../../shields/Murata/src/modem.c **** #include "modem_interface.h"
  32:../../shields/Murata/src/modem.c **** #include "stm32l4xx_hal.h"
  33:../../shields/Murata/src/modem.c **** 
  34:../../shields/Murata/src/modem.c **** #define RX_BUFFER_SIZE 256
  35:../../shields/Murata/src/modem.c **** #define CMD_BUFFER_SIZE 256
  36:../../shields/Murata/src/modem.c **** 
  37:../../shields/Murata/src/modem.c **** #if defined(FRAMEWORK_LOG_ENABLED) && defined(FRAMEWORK_MODEM_LOG_ENABLED)
  38:../../shields/Murata/src/modem.c ****   #define DPRINT(...) log_print_string(__VA_ARGS__)
  39:../../shields/Murata/src/modem.c ****   #define DPRINT_DATA(...) log_print_data(__VA_ARGS__)
  40:../../shields/Murata/src/modem.c **** #else
  41:../../shields/Murata/src/modem.c ****     #define DPRINT(...)
  42:../../shields/Murata/src/modem.c ****     #define DPRINT_DATA(...)
  43:../../shields/Murata/src/modem.c **** #endif
  44:../../shields/Murata/src/modem.c **** 
  45:../../shields/Murata/src/modem.c **** 
  46:../../shields/Murata/src/modem.c **** typedef struct {
  47:../../shields/Murata/src/modem.c ****   uint8_t tag_id;
  48:../../shields/Murata/src/modem.c ****   bool is_active;
  49:../../shields/Murata/src/modem.c ****   fifo_t fifo;
  50:../../shields/Murata/src/modem.c ****   uint8_t buffer[256];
  51:../../shields/Murata/src/modem.c **** } command_t;
  52:../../shields/Murata/src/modem.c **** 
  53:../../shields/Murata/src/modem.c **** static UART_HandleTypeDef* uart_handle;
  54:../../shields/Murata/src/modem.c **** static modem_callbacks_t* callbacks;
  55:../../shields/Murata/src/modem.c **** static uint8_t rx_buffer[RX_BUFFER_SIZE];
  56:../../shields/Murata/src/modem.c **** static command_t command; // TODO only one active command supported for now
  57:../../shields/Murata/src/modem.c **** static uint8_t next_tag_id = 0;
  58:../../shields/Murata/src/modem.c **** static bool parsed_header = false;
  59:../../shields/Murata/src/modem.c **** static uint8_t payload_len = 0;
  60:../../shields/Murata/src/modem.c **** extern fifo_t rx_fifo;
  61:../../shields/Murata/src/modem.c **** 
  62:../../shields/Murata/src/modem.c **** static void process_serial_frame(fifo_t* fifo) {
  29              		.loc 1 62 48 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 296
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 62 48 is_stmt 0 view .LVU1
  34 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 20
  37              		.cfi_offset 4, -20
  38              		.cfi_offset 5, -16
  39              		.cfi_offset 6, -12
  40              		.cfi_offset 7, -8
  41              		.cfi_offset 14, -4
  42 0002 CBB0     		sub	sp, sp, #300
  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 320
  45 0004 0446     		mov	r4, r0
  63:../../shields/Murata/src/modem.c ****   bool command_completed = false;
  46              		.loc 1 63 3 is_stmt 1 view .LVU2
  47              	.LVL1:
  64:../../shields/Murata/src/modem.c ****   bool completed_with_error = false;
  48              		.loc 1 64 3 view .LVU3
  65:../../shields/Murata/src/modem.c ****   while(fifo_get_size(fifo)) {
  49              		.loc 1 65 3 view .LVU4
  64:../../shields/Murata/src/modem.c ****   bool completed_with_error = false;
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 3


  50              		.loc 1 64 8 is_stmt 0 view .LVU5
  51 0006 0026     		movs	r6, #0
  63:../../shields/Murata/src/modem.c ****   bool command_completed = false;
  52              		.loc 1 63 8 view .LVU6
  53 0008 3746     		mov	r7, r6
  54              		.loc 1 65 8 view .LVU7
  55 000a 18E0     		b	.L2
  56              	.LVL2:
  57              	.L4:
  58              	.LBB6:
  66:../../shields/Murata/src/modem.c ****     alp_action_t action;
  67:../../shields/Murata/src/modem.c ****     alp_parse_action(fifo, &action);
  68:../../shields/Murata/src/modem.c **** 
  69:../../shields/Murata/src/modem.c ****     switch(action.operation) {
  70:../../shields/Murata/src/modem.c ****       case ALP_OP_RETURN_TAG:
  71:../../shields/Murata/src/modem.c ****         if(action.tag_response.tag_id == command.tag_id) {
  59              		.loc 1 71 9 is_stmt 1 view .LVU8
  60              		.loc 1 71 31 is_stmt 0 view .LVU9
  61 000c 9DF81E10 		ldrb	r1, [sp, #30]	@ zero_extendqisi2
  62              		.loc 1 71 49 view .LVU10
  63 0010 634B     		ldr	r3, .L25
  64 0012 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
  65              		.loc 1 71 11 view .LVU11
  66 0014 9142     		cmp	r1, r2
  67 0016 04D1     		bne	.L9
  72:../../shields/Murata/src/modem.c ****           command_completed = action.tag_response.completed;
  68              		.loc 1 72 11 is_stmt 1 view .LVU12
  69              		.loc 1 72 29 is_stmt 0 view .LVU13
  70 0018 9DF81C70 		ldrb	r7, [sp, #28]	@ zero_extendqisi2
  71              	.LVL3:
  73:../../shields/Murata/src/modem.c ****           completed_with_error = action.tag_response.error;
  72              		.loc 1 73 11 is_stmt 1 view .LVU14
  73              		.loc 1 73 32 is_stmt 0 view .LVU15
  74 001c 9DF81D60 		ldrb	r6, [sp, #29]	@ zero_extendqisi2
  75              	.LVL4:
  76              		.loc 1 73 32 view .LVU16
  77 0020 0DE0     		b	.L2
  78              	.L9:
  74:../../shields/Murata/src/modem.c ****         } else {
  75:../../shields/Murata/src/modem.c ****           printf("received resp with unexpected tag_id (%i vs %i)", action.tag_response.tag_id, com
  79              		.loc 1 75 11 is_stmt 1 view .LVU17
  80 0022 6048     		ldr	r0, .L25+4
  81 0024 FFF7FEFF 		bl	printf
  82              	.LVL5:
  83 0028 09E0     		b	.L2
  84              	.L8:
  76:../../shields/Murata/src/modem.c ****           // TODO unsolicited responses
  77:../../shields/Murata/src/modem.c ****         }
  78:../../shields/Murata/src/modem.c ****         break;
  79:../../shields/Murata/src/modem.c ****       case ALP_OP_WRITE_FILE_DATA:
  80:../../shields/Murata/src/modem.c ****         if(callbacks->write_file_data_callback)
  85              		.loc 1 80 9 view .LVU18
  86              		.loc 1 80 21 is_stmt 0 view .LVU19
  87 002a 5F4B     		ldr	r3, .L25+8
  88 002c 1B68     		ldr	r3, [r3]
  89 002e DD68     		ldr	r5, [r3, #12]
  90              		.loc 1 80 11 view .LVU20
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 4


  91 0030 2DB1     		cbz	r5, .L2
  81:../../shields/Murata/src/modem.c ****           callbacks->write_file_data_callback(action.file_data_operand.file_offset.file_id,
  92              		.loc 1 81 11 is_stmt 1 view .LVU21
  93 0032 0AAB     		add	r3, sp, #40
  94 0034 099A     		ldr	r2, [sp, #36]
  95 0036 0899     		ldr	r1, [sp, #32]
  96 0038 9DF81C00 		ldrb	r0, [sp, #28]	@ zero_extendqisi2
  97 003c A847     		blx	r5
  98              	.LVL6:
  99              	.L2:
 100              		.loc 1 81 11 is_stmt 0 view .LVU22
 101              	.LBE6:
  65:../../shields/Murata/src/modem.c ****     alp_action_t action;
 102              		.loc 1 65 9 view .LVU23
 103 003e 2046     		mov	r0, r4
 104 0040 FFF7FEFF 		bl	fifo_get_size
 105              	.LVL7:
  65:../../shields/Murata/src/modem.c ****     alp_action_t action;
 106              		.loc 1 65 8 view .LVU24
 107 0044 0028     		cmp	r0, #0
 108 0046 00F09C80 		beq	.L23
 109              	.LBB10:
  66:../../shields/Murata/src/modem.c ****     alp_parse_action(fifo, &action);
 110              		.loc 1 66 5 is_stmt 1 view .LVU25
  67:../../shields/Murata/src/modem.c **** 
 111              		.loc 1 67 5 view .LVU26
 112 004a 06A9     		add	r1, sp, #24
 113 004c 2046     		mov	r0, r4
 114 004e FFF7FEFF 		bl	alp_parse_action
 115              	.LVL8:
  69:../../shields/Murata/src/modem.c ****       case ALP_OP_RETURN_TAG:
 116              		.loc 1 69 5 view .LVU27
  69:../../shields/Murata/src/modem.c ****       case ALP_OP_RETURN_TAG:
 117              		.loc 1 69 18 is_stmt 0 view .LVU28
 118 0052 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
  69:../../shields/Murata/src/modem.c ****       case ALP_OP_RETURN_TAG:
 119              		.loc 1 69 5 view .LVU29
 120 0056 043B     		subs	r3, r3, #4
 121 0058 1F2B     		cmp	r3, #31
 122 005a 00F28C80 		bhi	.L3
 123 005e 01A2     		adr	r2, .L5
 124 0060 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 125              		.p2align 2
 126              	.L5:
 127 0064 2B000000 		.word	.L8+1
 128 0068 77010000 		.word	.L3+1
 129 006c 77010000 		.word	.L3+1
 130 0070 77010000 		.word	.L3+1
 131 0074 77010000 		.word	.L3+1
 132 0078 77010000 		.word	.L3+1
 133 007c 77010000 		.word	.L3+1
 134 0080 77010000 		.word	.L3+1
 135 0084 77010000 		.word	.L3+1
 136 0088 77010000 		.word	.L3+1
 137 008c 77010000 		.word	.L3+1
 138 0090 77010000 		.word	.L3+1
 139 0094 77010000 		.word	.L3+1
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 5


 140 0098 77010000 		.word	.L3+1
 141 009c 77010000 		.word	.L3+1
 142 00a0 77010000 		.word	.L3+1
 143 00a4 77010000 		.word	.L3+1
 144 00a8 77010000 		.word	.L3+1
 145 00ac 77010000 		.word	.L3+1
 146 00b0 77010000 		.word	.L3+1
 147 00b4 77010000 		.word	.L3+1
 148 00b8 77010000 		.word	.L3+1
 149 00bc 77010000 		.word	.L3+1
 150 00c0 77010000 		.word	.L3+1
 151 00c4 77010000 		.word	.L3+1
 152 00c8 77010000 		.word	.L3+1
 153 00cc 77010000 		.word	.L3+1
 154 00d0 77010000 		.word	.L3+1
 155 00d4 E5000000 		.word	.L7+1
 156 00d8 77010000 		.word	.L3+1
 157 00dc FD000000 		.word	.L6+1
 158 00e0 0D000000 		.word	.L4+1
 159              		.p2align 1
 160              	.L7:
  82:../../shields/Murata/src/modem.c ****                                                action.file_data_operand.file_offset.offset,
  83:../../shields/Murata/src/modem.c ****                                                action.file_data_operand.provided_data_length,
  84:../../shields/Murata/src/modem.c ****                                                action.file_data_operand.data);
  85:../../shields/Murata/src/modem.c ****         break;
  86:../../shields/Murata/src/modem.c ****       case ALP_OP_RETURN_FILE_DATA:
  87:../../shields/Murata/src/modem.c ****         if(callbacks->return_file_data_callback)
 161              		.loc 1 87 9 is_stmt 1 view .LVU30
 162              		.loc 1 87 21 is_stmt 0 view .LVU31
 163 00e4 304B     		ldr	r3, .L25+8
 164 00e6 1B68     		ldr	r3, [r3]
 165 00e8 9D68     		ldr	r5, [r3, #8]
 166              		.loc 1 87 11 view .LVU32
 167 00ea 002D     		cmp	r5, #0
 168 00ec A7D0     		beq	.L2
  88:../../shields/Murata/src/modem.c ****           callbacks->return_file_data_callback(action.file_data_operand.file_offset.file_id,
 169              		.loc 1 88 11 is_stmt 1 view .LVU33
 170 00ee 0AAB     		add	r3, sp, #40
 171 00f0 099A     		ldr	r2, [sp, #36]
 172 00f2 0899     		ldr	r1, [sp, #32]
 173 00f4 9DF81C00 		ldrb	r0, [sp, #28]	@ zero_extendqisi2
 174 00f8 A847     		blx	r5
 175              	.LVL9:
 176 00fa A0E7     		b	.L2
 177              	.L6:
  89:../../shields/Murata/src/modem.c ****                                                action.file_data_operand.file_offset.offset,
  90:../../shields/Murata/src/modem.c ****                                                action.file_data_operand.provided_data_length,
  91:../../shields/Murata/src/modem.c ****                                                action.file_data_operand.data);
  92:../../shields/Murata/src/modem.c ****         break;
  93:../../shields/Murata/src/modem.c ****       case ALP_OP_RETURN_STATUS:
  94:../../shields/Murata/src/modem.c ****         if(action.status.type==ALP_ITF_ID_D7ASP)
 178              		.loc 1 94 9 view .LVU34
 179              		.loc 1 94 25 is_stmt 0 view .LVU35
 180 00fc 9DF81C31 		ldrb	r3, [sp, #284]	@ zero_extendqisi2
 181              		.loc 1 94 11 view .LVU36
 182 0100 D72B     		cmp	r3, #215
 183 0102 09D0     		beq	.L24
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 6


 184              	.L11:
  95:../../shields/Murata/src/modem.c ****         {
  96:../../shields/Murata/src/modem.c ****           d7ap_session_result_t interface_status = *((d7ap_session_result_t*)action.status.data);
  97:../../shields/Murata/src/modem.c ****           uint8_t addressee_len = d7ap_addressee_id_length(interface_status.addressee.ctrl.id_type)
  98:../../shields/Murata/src/modem.c ****           printf("received resp from: ");
  99:../../shields/Murata/src/modem.c ****           printf(interface_status.addressee.id, addressee_len);
 100:../../shields/Murata/src/modem.c ****         }
 101:../../shields/Murata/src/modem.c ****         if(callbacks->modem_interface_status_callback)
 185              		.loc 1 101 9 is_stmt 1 view .LVU37
 186              		.loc 1 101 21 is_stmt 0 view .LVU38
 187 0104 284B     		ldr	r3, .L25+8
 188 0106 1B68     		ldr	r3, [r3]
 189 0108 5B68     		ldr	r3, [r3, #4]
 190              		.loc 1 101 11 view .LVU39
 191 010a 002B     		cmp	r3, #0
 192 010c 97D0     		beq	.L2
 102:../../shields/Murata/src/modem.c ****           callbacks->modem_interface_status_callback(action.status.type,&action.status.data);
 193              		.loc 1 102 11 is_stmt 1 view .LVU40
 194 010e 07A9     		add	r1, sp, #28
 195 0110 9DF81C01 		ldrb	r0, [sp, #284]	@ zero_extendqisi2
 196 0114 9847     		blx	r3
 197              	.LVL10:
 198              		.loc 1 102 11 is_stmt 0 view .LVU41
 199 0116 92E7     		b	.L2
 200              	.L24:
 201              	.LBB7:
  96:../../shields/Murata/src/modem.c ****           uint8_t addressee_len = d7ap_addressee_id_length(interface_status.addressee.ctrl.id_type)
 202              		.loc 1 96 11 is_stmt 1 view .LVU42
  96:../../shields/Murata/src/modem.c ****           uint8_t addressee_len = d7ap_addressee_id_length(interface_status.addressee.ctrl.id_type)
 203              		.loc 1 96 33 is_stmt 0 view .LVU43
 204 0118 6D46     		mov	r5, sp
 205 011a 0DF11C0C 		add	ip, sp, #28
 206 011e BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 207 0122 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 208 0124 9CE80300 		ldm	ip, {r0, r1}
 209 0128 45F8040B 		str	r0, [r5], #4
 210 012c 25F8021B 		strh	r1, [r5], #2	@ movhi
 211 0130 090C     		lsrs	r1, r1, #16
 212 0132 2970     		strb	r1, [r5]
  97:../../shields/Murata/src/modem.c ****           printf("received resp from: ");
 213              		.loc 1 97 11 is_stmt 1 view .LVU44
  97:../../shields/Murata/src/modem.c ****           printf("received resp from: ");
 214              		.loc 1 97 91 is_stmt 0 view .LVU45
 215 0134 9DF80D30 		ldrb	r3, [sp, #13]	@ zero_extendqisi2
 216 0138 C3F30113 		ubfx	r3, r3, #4, #2
 217              	.LVL11:
 218              	.LBB8:
 219              	.LBI8:
 220              		.file 2 "../../shields/Murata/inc/d7ap.h"
   1:../../shields/Murata/inc/d7ap.h **** 
   2:../../shields/Murata/inc/d7ap.h **** /* * OSS-7 - An opensource implementation of the DASH7 Alliance Protocol for ultra
   3:../../shields/Murata/inc/d7ap.h ****  * lowpower wireless sensor communication
   4:../../shields/Murata/inc/d7ap.h ****  *
   5:../../shields/Murata/inc/d7ap.h ****  * Copyright 2018 University of Antwerp
   6:../../shields/Murata/inc/d7ap.h ****  * Copyright 2018 CORTUS SA
   7:../../shields/Murata/inc/d7ap.h ****  *
   8:../../shields/Murata/inc/d7ap.h ****  * Licensed under the Apache License, Version 2.0 (the "License");
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 7


   9:../../shields/Murata/inc/d7ap.h ****  * you may not use this file except in compliance with the License.
  10:../../shields/Murata/inc/d7ap.h ****  * You may obtain a copy of the License at
  11:../../shields/Murata/inc/d7ap.h ****  *
  12:../../shields/Murata/inc/d7ap.h ****  *   http://www.apache.org/licenses/LICENSE-2.0
  13:../../shields/Murata/inc/d7ap.h ****  *
  14:../../shields/Murata/inc/d7ap.h ****  * Unless required by applicable law or agreed to in writing, software
  15:../../shields/Murata/inc/d7ap.h ****  * distributed under the License is distributed on an "AS IS" BASIS,
  16:../../shields/Murata/inc/d7ap.h ****  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  17:../../shields/Murata/inc/d7ap.h ****  * See the License for the specific language governing permissions and
  18:../../shields/Murata/inc/d7ap.h ****  * limitations under the License.
  19:../../shields/Murata/inc/d7ap.h ****  *
  20:../../shields/Murata/inc/d7ap.h ****  * \author philippe.nunes@cortus.com
  21:../../shields/Murata/inc/d7ap.h ****  */
  22:../../shields/Murata/inc/d7ap.h **** 
  23:../../shields/Murata/inc/d7ap.h **** /**
  24:../../shields/Murata/inc/d7ap.h ****  * @file d7ap.h
  25:../../shields/Murata/inc/d7ap.h ****  * @addtogroup d7ap
  26:../../shields/Murata/inc/d7ap.h ****  * @ingroup framework
  27:../../shields/Murata/inc/d7ap.h ****  * @{
  28:../../shields/Murata/inc/d7ap.h ****  * @brief D7AP public types (used for modem and/or D7AP stack itself)
  29:../../shields/Murata/inc/d7ap.h ****  *
  30:../../shields/Murata/inc/d7ap.h ****  */
  31:../../shields/Murata/inc/d7ap.h **** 
  32:../../shields/Murata/inc/d7ap.h **** #ifndef D7AP_H
  33:../../shields/Murata/inc/d7ap.h **** #define D7AP_H
  34:../../shields/Murata/inc/d7ap.h **** 
  35:../../shields/Murata/inc/d7ap.h **** #include "types.h"
  36:../../shields/Murata/inc/d7ap.h **** #include "assert.h"
  37:../../shields/Murata/inc/d7ap.h **** 
  38:../../shields/Murata/inc/d7ap.h **** #define D7AP_MAX_CLIENT_COUNT 8
  39:../../shields/Murata/inc/d7ap.h **** 
  40:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_UID_FILE_ID 0x00
  41:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_UID_SIZE 8
  42:../../shields/Murata/inc/d7ap.h **** 
  43:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_FIRMWARE_VERSION_FILE_ID 0x02
  44:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_FIRMWARE_VERSION_APP_NAME_SIZE 6
  45:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_FIRMWARE_VERSION_GIT_SHA1_SIZE 7
  46:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_FIRMWARE_VERSION_SIZE (2 + D7A_FILE_FIRMWARE_VERSION_APP_NAME_SIZE + D7A_FILE_FIRM
  47:../../shields/Murata/inc/d7ap.h **** 
  48:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_DLL_CONF_FILE_ID	0x0A
  49:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_DLL_CONF_SIZE		6
  50:../../shields/Murata/inc/d7ap.h **** 
  51:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_ACCESS_PROFILE_ID 0x20 // the first access class file
  52:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_ACCESS_PROFILE_SIZE 65
  53:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_ACCESS_PROFILE_COUNT 15
  54:../../shields/Murata/inc/d7ap.h **** 
  55:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY		0x0D
  56:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_SIZE	5
  57:../../shields/Murata/inc/d7ap.h **** 
  58:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_KEY		0x0E
  59:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_KEY_SIZE	16
  60:../../shields/Murata/inc/d7ap.h **** 
  61:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_STATE_REG			0x0F
  62:../../shields/Murata/inc/d7ap.h **** #define D7A_FILE_NWL_SECURITY_STATE_REG_SIZE	2 + (FRAMEWORK_FS_TRUSTED_NODE_TABLE_SIZE)*(D7A_FILE_N
  63:../../shields/Murata/inc/d7ap.h **** 
  64:../../shields/Murata/inc/d7ap.h **** 
  65:../../shields/Murata/inc/d7ap.h **** #define ID_TYPE_NBID_ID_LENGTH 1
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 8


  66:../../shields/Murata/inc/d7ap.h **** #define ID_TYPE_NOID_ID_LENGTH 0
  67:../../shields/Murata/inc/d7ap.h **** #define ID_TYPE_UID_ID_LENGTH   8
  68:../../shields/Murata/inc/d7ap.h **** #define ID_TYPE_VID_LENGTH      2
  69:../../shields/Murata/inc/d7ap.h **** 
  70:../../shields/Murata/inc/d7ap.h **** #define ID_TYPE_IS_BROADCAST(id_type) (id_type == ID_TYPE_NBID || id_type == ID_TYPE_NOID)
  71:../../shields/Murata/inc/d7ap.h **** 
  72:../../shields/Murata/inc/d7ap.h **** #define D7A_PAYLOAD_MAX_SIZE 239 // TODO confirm this value when FEC and security are disabled
  73:../../shields/Murata/inc/d7ap.h **** 
  74:../../shields/Murata/inc/d7ap.h **** 
  75:../../shields/Murata/inc/d7ap.h **** typedef enum {
  76:../../shields/Murata/inc/d7ap.h ****     ID_TYPE_NBID = 0,
  77:../../shields/Murata/inc/d7ap.h ****     ID_TYPE_NOID = 1,
  78:../../shields/Murata/inc/d7ap.h ****     ID_TYPE_UID = 2,
  79:../../shields/Murata/inc/d7ap.h ****     ID_TYPE_VID = 3
  80:../../shields/Murata/inc/d7ap.h **** } d7ap_addressee_id_type_t;
  81:../../shields/Murata/inc/d7ap.h **** 
  82:../../shields/Murata/inc/d7ap.h **** typedef enum
  83:../../shields/Murata/inc/d7ap.h **** {
  84:../../shields/Murata/inc/d7ap.h ****     AES_NONE = 0, /* No security */
  85:../../shields/Murata/inc/d7ap.h ****     AES_CTR = 0x01, /* data confidentiality */
  86:../../shields/Murata/inc/d7ap.h ****     AES_CBC_MAC_128 = 0x02, /* data authenticity */
  87:../../shields/Murata/inc/d7ap.h ****     AES_CBC_MAC_64 = 0x03, /* data authenticity */
  88:../../shields/Murata/inc/d7ap.h ****     AES_CBC_MAC_32 = 0x04, /* data authenticity */
  89:../../shields/Murata/inc/d7ap.h ****     AES_CCM_128 = 0x05, /* data confidentiality and authenticity*/
  90:../../shields/Murata/inc/d7ap.h ****     AES_CCM_64 = 0x06, /* data confidentiality and authenticity*/
  91:../../shields/Murata/inc/d7ap.h ****     AES_CCM_32 = 0x07, /* data confidentiality and authenticity*/
  92:../../shields/Murata/inc/d7ap.h **** } nls_method_t;
  93:../../shields/Murata/inc/d7ap.h **** 
  94:../../shields/Murata/inc/d7ap.h **** typedef struct {
  95:../../shields/Murata/inc/d7ap.h ****     union {
  96:../../shields/Murata/inc/d7ap.h ****         uint8_t raw;
  97:../../shields/Murata/inc/d7ap.h ****         struct {
  98:../../shields/Murata/inc/d7ap.h ****             nls_method_t nls_method : 4;
  99:../../shields/Murata/inc/d7ap.h ****             d7ap_addressee_id_type_t id_type : 2;
 100:../../shields/Murata/inc/d7ap.h ****             uint8_t _rfu : 2;
 101:../../shields/Murata/inc/d7ap.h ****         };
 102:../../shields/Murata/inc/d7ap.h ****     };
 103:../../shields/Murata/inc/d7ap.h **** } d7ap_addressee_ctrl_t;
 104:../../shields/Murata/inc/d7ap.h **** 
 105:../../shields/Murata/inc/d7ap.h **** typedef struct __attribute__((__packed__)) {
 106:../../shields/Murata/inc/d7ap.h ****     d7ap_addressee_ctrl_t ctrl;
 107:../../shields/Murata/inc/d7ap.h ****     union {
 108:../../shields/Murata/inc/d7ap.h ****         uint8_t access_class;
 109:../../shields/Murata/inc/d7ap.h ****         struct {
 110:../../shields/Murata/inc/d7ap.h ****             uint8_t access_mask : 4;
 111:../../shields/Murata/inc/d7ap.h ****             uint8_t access_specifier : 4;
 112:../../shields/Murata/inc/d7ap.h ****         };
 113:../../shields/Murata/inc/d7ap.h ****     };
 114:../../shields/Murata/inc/d7ap.h ****     uint8_t id[8]; // TODO assuming 8 byte id for now
 115:../../shields/Murata/inc/d7ap.h **** } d7ap_addressee_t;
 116:../../shields/Murata/inc/d7ap.h **** 
 117:../../shields/Murata/inc/d7ap.h **** typedef struct {
 118:../../shields/Murata/inc/d7ap.h ****     union {
 119:../../shields/Murata/inc/d7ap.h ****         uint8_t raw;
 120:../../shields/Murata/inc/d7ap.h ****         struct {
 121:../../shields/Murata/inc/d7ap.h ****             uint8_t _rfu : 4;
 122:../../shields/Murata/inc/d7ap.h ****             bool ucast : 1;
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 9


 123:../../shields/Murata/inc/d7ap.h ****             bool retry : 1;
 124:../../shields/Murata/inc/d7ap.h ****             bool missed : 1;
 125:../../shields/Murata/inc/d7ap.h ****             bool nls : 1;
 126:../../shields/Murata/inc/d7ap.h ****         };
 127:../../shields/Murata/inc/d7ap.h ****     };
 128:../../shields/Murata/inc/d7ap.h **** } d7ap_sp_state_t;
 129:../../shields/Murata/inc/d7ap.h **** 
 130:../../shields/Murata/inc/d7ap.h **** typedef struct
 131:../../shields/Murata/inc/d7ap.h **** {
 132:../../shields/Murata/inc/d7ap.h ****     uint8_t channel_header;         /**< PHY layer channel header */
 133:../../shields/Murata/inc/d7ap.h ****     uint16_t center_freq_index;     /**< The center frequency index of the channel id */
 134:../../shields/Murata/inc/d7ap.h **** } d7ap_channel_t;
 135:../../shields/Murata/inc/d7ap.h **** 
 136:../../shields/Murata/inc/d7ap.h **** typedef struct __attribute__((__packed__)) {
 137:../../shields/Murata/inc/d7ap.h ****     d7ap_channel_t channel;
 138:../../shields/Murata/inc/d7ap.h ****     uint8_t rx_level;
 139:../../shields/Murata/inc/d7ap.h ****     uint8_t link_budget;
 140:../../shields/Murata/inc/d7ap.h ****     uint8_t link_quality;
 141:../../shields/Murata/inc/d7ap.h ****     uint8_t target_rx_level;
 142:../../shields/Murata/inc/d7ap.h ****     d7ap_sp_state_t status;
 143:../../shields/Murata/inc/d7ap.h ****     uint8_t fifo_token;
 144:../../shields/Murata/inc/d7ap.h ****     uint8_t seqnr;
 145:../../shields/Murata/inc/d7ap.h ****     uint8_t response_to;
 146:../../shields/Murata/inc/d7ap.h ****     bool response_expected;
 147:../../shields/Murata/inc/d7ap.h ****     d7ap_addressee_t addressee;
 148:../../shields/Murata/inc/d7ap.h **** } d7ap_session_result_t;
 149:../../shields/Murata/inc/d7ap.h **** 
 150:../../shields/Murata/inc/d7ap.h **** typedef enum  {
 151:../../shields/Murata/inc/d7ap.h ****     SESSION_RESP_MODE_NO = 0,
 152:../../shields/Murata/inc/d7ap.h ****     SESSION_RESP_MODE_ALL = 1,
 153:../../shields/Murata/inc/d7ap.h ****     SESSION_RESP_MODE_ANY = 2,
 154:../../shields/Murata/inc/d7ap.h ****     SESSION_RESP_MODE_NO_RPT = 4,
 155:../../shields/Murata/inc/d7ap.h ****     SESSION_RESP_MODE_ON_ERR = 5,
 156:../../shields/Murata/inc/d7ap.h ****     SESSION_RESP_MODE_PREFERRED = 6,
 157:../../shields/Murata/inc/d7ap.h **** } d7ap_session_resp_mode_t;
 158:../../shields/Murata/inc/d7ap.h **** 
 159:../../shields/Murata/inc/d7ap.h **** typedef enum {
 160:../../shields/Murata/inc/d7ap.h ****     SESSION_RETRY_MODE_NO = 0
 161:../../shields/Murata/inc/d7ap.h **** } d7ap_session_retry_mode_t;
 162:../../shields/Murata/inc/d7ap.h **** 
 163:../../shields/Murata/inc/d7ap.h **** typedef struct {
 164:../../shields/Murata/inc/d7ap.h ****     union {
 165:../../shields/Murata/inc/d7ap.h ****         uint8_t raw;
 166:../../shields/Murata/inc/d7ap.h ****         struct {
 167:../../shields/Murata/inc/d7ap.h ****             d7ap_session_resp_mode_t qos_resp_mode : 3;
 168:../../shields/Murata/inc/d7ap.h ****             d7ap_session_retry_mode_t qos_retry_mode: 3;
 169:../../shields/Murata/inc/d7ap.h ****             bool qos_record : 1;
 170:../../shields/Murata/inc/d7ap.h ****             bool qos_stop_on_error : 1;
 171:../../shields/Murata/inc/d7ap.h ****         };
 172:../../shields/Murata/inc/d7ap.h ****     };
 173:../../shields/Murata/inc/d7ap.h **** } d7ap_session_qos_t;
 174:../../shields/Murata/inc/d7ap.h **** 
 175:../../shields/Murata/inc/d7ap.h **** typedef struct {
 176:../../shields/Murata/inc/d7ap.h ****     d7ap_session_qos_t qos;
 177:../../shields/Murata/inc/d7ap.h ****     uint8_t dormant_timeout;
 178:../../shields/Murata/inc/d7ap.h ****     d7ap_addressee_t addressee;
 179:../../shields/Murata/inc/d7ap.h **** } d7ap_session_config_t;
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 10


 180:../../shields/Murata/inc/d7ap.h **** 
 181:../../shields/Murata/inc/d7ap.h **** typedef void (*d7ap_receive_callback)(uint16_t trans_id, uint8_t* payload, uint8_t len, d7ap_sessio
 182:../../shields/Murata/inc/d7ap.h **** /**
 183:../../shields/Murata/inc/d7ap.h ****  * @brief Called when the stack received an unsolicited message
 184:../../shields/Murata/inc/d7ap.h ****  * @returns true when the unsolicited request will result in a response payload from the upper laye
 185:../../shields/Murata/inc/d7ap.h ****  * the upper layer should return false, so the stack can respond with an ack immediately (if reques
 186:../../shields/Murata/inc/d7ap.h ****  */
 187:../../shields/Murata/inc/d7ap.h **** typedef bool (*d7ap_receive_unsolicited_callback)(uint8_t* payload, uint8_t len, d7ap_session_resul
 188:../../shields/Murata/inc/d7ap.h **** typedef void (*d7ap_transmitted_callback)(uint16_t trans_id, error_t error);
 189:../../shields/Murata/inc/d7ap.h **** 
 190:../../shields/Murata/inc/d7ap.h **** typedef struct{
 191:../../shields/Murata/inc/d7ap.h ****     d7ap_receive_callback  receive_cb;                /*< receive callback,
 192:../../shields/Murata/inc/d7ap.h ****                                                           if NULL, all message received for clientI
 193:../../shields/Murata/inc/d7ap.h ****     d7ap_transmitted_callback transmitted_cb;         /*< send completion callback,
 194:../../shields/Murata/inc/d7ap.h ****                                                           if NULL, the associated packet will be re
 195:../../shields/Murata/inc/d7ap.h ****     d7ap_receive_unsolicited_callback unsolicited_cb; /*< unsolicited data callback,
 196:../../shields/Murata/inc/d7ap.h ****                                                           if NULL, the associated packet will be re
 197:../../shields/Murata/inc/d7ap.h **** } d7ap_resource_desc_t;
 198:../../shields/Murata/inc/d7ap.h **** 
 199:../../shields/Murata/inc/d7ap.h **** 
 200:../../shields/Murata/inc/d7ap.h **** //=========================== prototypes ======================================
 201:../../shields/Murata/inc/d7ap.h **** /**
 202:../../shields/Murata/inc/d7ap.h ****  * @brief   Initializes d7a module
 203:../../shields/Murata/inc/d7ap.h ****  */
 204:../../shields/Murata/inc/d7ap.h **** void d7ap_init(void);
 205:../../shields/Murata/inc/d7ap.h **** 
 206:../../shields/Murata/inc/d7ap.h **** 
 207:../../shields/Murata/inc/d7ap.h **** /**
 208:../../shields/Murata/inc/d7ap.h ****  * @brief   Register the client callbacks
 209:../../shields/Murata/inc/d7ap.h ****  *
 210:../../shields/Murata/inc/d7ap.h ****  * @param[in] desc pointer to the client resource
 211:../../shields/Murata/inc/d7ap.h ****  *
 212:../../shields/Murata/inc/d7ap.h ****  * @return  the client Id
 213:../../shields/Murata/inc/d7ap.h ****  */
 214:../../shields/Murata/inc/d7ap.h **** uint8_t d7ap_register(d7ap_resource_desc_t* desc);
 215:../../shields/Murata/inc/d7ap.h **** 
 216:../../shields/Murata/inc/d7ap.h **** 
 217:../../shields/Murata/inc/d7ap.h **** /**
 218:../../shields/Murata/inc/d7ap.h ****  * @brief   Gets the device address UID/VID
 219:../../shields/Murata/inc/d7ap.h ****  *
 220:../../shields/Murata/inc/d7ap.h ****  * @param[out] *addr   Pointer to the device addressee UID/VID
 221:../../shields/Murata/inc/d7ap.h ****  */
 222:../../shields/Murata/inc/d7ap.h **** void d7ap_get_dev_addr(d7ap_addressee_t* addr);
 223:../../shields/Murata/inc/d7ap.h **** 
 224:../../shields/Murata/inc/d7ap.h **** 
 225:../../shields/Murata/inc/d7ap.h **** /**
 226:../../shields/Murata/inc/d7ap.h ****  * @brief Get the maximum payload size.
 227:../../shields/Murata/inc/d7ap.h ****  *
 228:../../shields/Murata/inc/d7ap.h ****  * @param[in] clientId  The d7A  instance Id.
 229:../../shields/Murata/inc/d7ap.h ****  *
 230:../../shields/Murata/inc/d7ap.h ****  * @returns the maximum payload size in bytes.
 231:../../shields/Murata/inc/d7ap.h ****  */
 232:../../shields/Murata/inc/d7ap.h **** uint8_t d7ap_get_payload_max_size(uint8_t clientId);
 233:../../shields/Murata/inc/d7ap.h **** 
 234:../../shields/Murata/inc/d7ap.h **** 
 235:../../shields/Murata/inc/d7ap.h **** /**
 236:../../shields/Murata/inc/d7ap.h ****  * @brief   Send a packet over DASH7 network
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 11


 237:../../shields/Murata/inc/d7ap.h ****  *
 238:../../shields/Murata/inc/d7ap.h ****  * @param[in] clientID  The registered client Id
 239:../../shields/Murata/inc/d7ap.h ****  * @param[in] config    The configuration for the d7a session. Set to NULL to use the current confi
 240:../../shields/Murata/inc/d7ap.h ****  * @param[in] payload   The pointer to the payload buffer
 241:../../shields/Murata/inc/d7ap.h ****  * @param[in] len       The length of the payload
 242:../../shields/Murata/inc/d7ap.h ****  * @param[in] expected_response_len The length of the expected response
 243:../../shields/Murata/inc/d7ap.h ****  * @param[in,out] trans_id   Set the value of this parameter to NULL to cause the function to execu
 244:../../shields/Murata/inc/d7ap.h ****  *                           If this parameter is not NULL, the call executes asynchronously. Upon 
 245:../../shields/Murata/inc/d7ap.h ****  *                           this points to the transaction identifier associated with the asynchro
 246:../../shields/Murata/inc/d7ap.h ****  * @return 0 on success
 247:../../shields/Murata/inc/d7ap.h ****  * @return an error (errno.h) in case of failure
 248:../../shields/Murata/inc/d7ap.h ****  */
 249:../../shields/Murata/inc/d7ap.h **** error_t d7ap_send(uint8_t clientId, d7ap_session_config_t* config, uint8_t* payload,
 250:../../shields/Murata/inc/d7ap.h ****                    uint8_t len, uint8_t expected_response_len, uint16_t* trans_id);
 251:../../shields/Murata/inc/d7ap.h **** 
 252:../../shields/Murata/inc/d7ap.h **** 
 253:../../shields/Murata/inc/d7ap.h **** /**
 254:../../shields/Murata/inc/d7ap.h ****  * @brief   Sets the channels TX power index
 255:../../shields/Murata/inc/d7ap.h ****  *
 256:../../shields/Murata/inc/d7ap.h ****  * @param[in] power  The TX power index (from 1 to 16)
 257:../../shields/Murata/inc/d7ap.h ****  */
 258:../../shields/Murata/inc/d7ap.h **** void d7ap_set_tx_power(uint8_t power);
 259:../../shields/Murata/inc/d7ap.h **** 
 260:../../shields/Murata/inc/d7ap.h **** 
 261:../../shields/Murata/inc/d7ap.h **** /**
 262:../../shields/Murata/inc/d7ap.h ****  * @brief   Gets the channels TX power index
 263:../../shields/Murata/inc/d7ap.h ****  *
 264:../../shields/Murata/inc/d7ap.h ****  * @return  The TX power index (from 1 to 16)
 265:../../shields/Murata/inc/d7ap.h ****  */
 266:../../shields/Murata/inc/d7ap.h **** uint8_t d7ap_get_tx_power(void);
 267:../../shields/Murata/inc/d7ap.h **** 
 268:../../shields/Murata/inc/d7ap.h **** 
 269:../../shields/Murata/inc/d7ap.h **** /**
 270:../../shields/Murata/inc/d7ap.h ****  * @brief   Sets the device access class
 271:../../shields/Murata/inc/d7ap.h ****  *
 272:../../shields/Murata/inc/d7ap.h ****  * @param[in] access_class  The device access class
 273:../../shields/Murata/inc/d7ap.h ****  */
 274:../../shields/Murata/inc/d7ap.h **** void d7ap_set_access_class(uint8_t access_class);
 275:../../shields/Murata/inc/d7ap.h **** 
 276:../../shields/Murata/inc/d7ap.h **** 
 277:../../shields/Murata/inc/d7ap.h **** /**
 278:../../shields/Murata/inc/d7ap.h ****  * @brief   Gets the device access class
 279:../../shields/Murata/inc/d7ap.h ****  *
 280:../../shields/Murata/inc/d7ap.h ****  * @return  The device access class
 281:../../shields/Murata/inc/d7ap.h ****  */
 282:../../shields/Murata/inc/d7ap.h **** uint8_t d7ap_get_access_class(void);
 283:../../shields/Murata/inc/d7ap.h **** 
 284:../../shields/Murata/inc/d7ap.h **** /**
 285:../../shields/Murata/inc/d7ap.h ****  * @brief   Gets the length of the addressee Id
 286:../../shields/Murata/inc/d7ap.h ****  *
 287:../../shields/Murata/inc/d7ap.h ****  * @param[in] id_type  The addressee Id type
 288:../../shields/Murata/inc/d7ap.h ****  * @return  The length of the addressee Id according the addressee Id type
 289:../../shields/Murata/inc/d7ap.h ****  */
 290:../../shields/Murata/inc/d7ap.h **** static inline uint8_t d7ap_addressee_id_length(d7ap_addressee_id_type_t id_type) {
 221              		.loc 2 290 23 is_stmt 1 view .LVU46
 222              	.LBB9:
 291:../../shields/Murata/inc/d7ap.h ****   switch(id_type)
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 12


 223              		.loc 2 291 3 view .LVU47
 224 013c 032B     		cmp	r3, #3
 225 013e 07D8     		bhi	.L12
 226 0140 DFE803F0 		tbb	[pc, r3]
 227              	.L14:
 228 0144 0F       		.byte	(.L21-.L14)/2
 229 0145 0D       		.byte	(.L16-.L14)/2
 230 0146 02       		.byte	(.L15-.L14)/2
 231 0147 04       		.byte	(.L13-.L14)/2
 232              		.p2align 1
 233              	.L15:
 292:../../shields/Murata/inc/d7ap.h ****   {
 293:../../shields/Murata/inc/d7ap.h ****       case ID_TYPE_NOID:
 294:../../shields/Murata/inc/d7ap.h ****         return ID_TYPE_NOID_ID_LENGTH;
 295:../../shields/Murata/inc/d7ap.h ****       case ID_TYPE_NBID:
 296:../../shields/Murata/inc/d7ap.h ****         return ID_TYPE_NBID_ID_LENGTH;
 297:../../shields/Murata/inc/d7ap.h ****       case ID_TYPE_UID:
 298:../../shields/Murata/inc/d7ap.h ****         return ID_TYPE_UID_ID_LENGTH;
 234              		.loc 2 298 9 view .LVU48
 235              		.loc 2 298 16 is_stmt 0 view .LVU49
 236 0148 0825     		movs	r5, #8
 237 014a 0BE0     		b	.L17
 238              	.L13:
 299:../../shields/Murata/inc/d7ap.h ****       case ID_TYPE_VID:
 300:../../shields/Murata/inc/d7ap.h ****         return ID_TYPE_VID_LENGTH;
 239              		.loc 2 300 9 is_stmt 1 view .LVU50
 240              		.loc 2 300 16 is_stmt 0 view .LVU51
 241 014c 0225     		movs	r5, #2
 242 014e 09E0     		b	.L17
 243              	.L12:
 301:../../shields/Murata/inc/d7ap.h ****       default:
 302:../../shields/Murata/inc/d7ap.h ****         assert(false);
 244              		.loc 2 302 9 is_stmt 1 view .LVU52
 245 0150 164B     		ldr	r3, .L25+12
 246 0152 174A     		ldr	r2, .L25+16
 247 0154 4FF49771 		mov	r1, #302
 248 0158 1648     		ldr	r0, .L25+20
 249 015a FFF7FEFF 		bl	__assert_func
 250              	.LVL12:
 251              	.L16:
 294:../../shields/Murata/inc/d7ap.h ****       case ID_TYPE_NBID:
 252              		.loc 2 294 16 is_stmt 0 view .LVU53
 253 015e 0025     		movs	r5, #0
 254 0160 00E0     		b	.L17
 255              	.L21:
 296:../../shields/Murata/inc/d7ap.h ****       case ID_TYPE_UID:
 256              		.loc 2 296 16 view .LVU54
 257 0162 0125     		movs	r5, #1
 258              	.L17:
 259              	.LVL13:
 296:../../shields/Murata/inc/d7ap.h ****       case ID_TYPE_UID:
 260              		.loc 2 296 16 view .LVU55
 261              	.LBE9:
 262              	.LBE8:
  98:../../shields/Murata/src/modem.c ****           printf(interface_status.addressee.id, addressee_len);
 263              		.loc 1 98 11 is_stmt 1 view .LVU56
 264 0164 1448     		ldr	r0, .L25+24
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 13


 265 0166 FFF7FEFF 		bl	printf
 266              	.LVL14:
  99:../../shields/Murata/src/modem.c ****         }
 267              		.loc 1 99 11 view .LVU57
 268 016a 2946     		mov	r1, r5
 269 016c 0DF10F00 		add	r0, sp, #15
 270 0170 FFF7FEFF 		bl	printf
 271              	.LVL15:
 272 0174 C6E7     		b	.L11
 273              	.LVL16:
 274              	.L3:
  99:../../shields/Murata/src/modem.c ****         }
 275              		.loc 1 99 11 is_stmt 0 view .LVU58
 276              	.LBE7:
 103:../../shields/Murata/src/modem.c ****         break;
 104:../../shields/Murata/src/modem.c ****       default:
 105:../../shields/Murata/src/modem.c ****         assert(false);
 277              		.loc 1 105 9 is_stmt 1 view .LVU59
 278 0176 0D4B     		ldr	r3, .L25+12
 279 0178 104A     		ldr	r2, .L25+28
 280 017a 6921     		movs	r1, #105
 281 017c 1048     		ldr	r0, .L25+32
 282 017e FFF7FEFF 		bl	__assert_func
 283              	.LVL17:
 284              	.L23:
 285              	.LBE10:
 106:../../shields/Murata/src/modem.c ****     }
 107:../../shields/Murata/src/modem.c ****   }
 108:../../shields/Murata/src/modem.c **** 
 109:../../shields/Murata/src/modem.c **** 
 110:../../shields/Murata/src/modem.c ****   if(command_completed) {
 286              		.loc 1 110 3 view .LVU60
 287              		.loc 1 110 5 is_stmt 0 view .LVU61
 288 0182 57B1     		cbz	r7, .L1
 111:../../shields/Murata/src/modem.c ****     DPRINT("LoRaWAN modem command with tag %i completed ", command.tag_id);
 289              		.loc 1 111 75 is_stmt 1 view .LVU62
 112:../../shields/Murata/src/modem.c ****     if(callbacks->command_completed_callback)
 290              		.loc 1 112 5 view .LVU63
 291              		.loc 1 112 17 is_stmt 0 view .LVU64
 292 0184 084B     		ldr	r3, .L25+8
 293 0186 1B68     		ldr	r3, [r3]
 294 0188 1B68     		ldr	r3, [r3]
 295              		.loc 1 112 7 view .LVU65
 296 018a 1BB1     		cbz	r3, .L20
 113:../../shields/Murata/src/modem.c ****       callbacks->command_completed_callback(completed_with_error,command.tag_id);
 297              		.loc 1 113 7 is_stmt 1 view .LVU66
 298 018c 044A     		ldr	r2, .L25
 299 018e 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 300 0190 3046     		mov	r0, r6
 301 0192 9847     		blx	r3
 302              	.LVL18:
 303              	.L20:
 114:../../shields/Murata/src/modem.c **** 
 115:../../shields/Murata/src/modem.c ****     command.is_active = false;
 304              		.loc 1 115 5 view .LVU67
 305              		.loc 1 115 23 is_stmt 0 view .LVU68
 306 0194 024B     		ldr	r3, .L25
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 14


 307 0196 0022     		movs	r2, #0
 308 0198 5A70     		strb	r2, [r3, #1]
 309              	.L1:
 116:../../shields/Murata/src/modem.c ****   }
 117:../../shields/Murata/src/modem.c **** 
 118:../../shields/Murata/src/modem.c **** }
 310              		.loc 1 118 1 view .LVU69
 311 019a 4BB0     		add	sp, sp, #300
 312              	.LCFI2:
 313              		.cfi_def_cfa_offset 20
 314              		@ sp needed
 315 019c F0BD     		pop	{r4, r5, r6, r7, pc}
 316              	.LVL19:
 317              	.L26:
 318              		.loc 1 118 1 view .LVU70
 319 019e 00BF     		.align	2
 320              	.L25:
 321 01a0 00000000 		.word	.LANCHOR0
 322 01a4 00000000 		.word	.LC0
 323 01a8 00000000 		.word	.LANCHOR1
 324 01ac 30000000 		.word	.LC1
 325 01b0 00000000 		.word	.LANCHOR2
 326 01b4 38000000 		.word	.LC2
 327 01b8 58000000 		.word	.LC3
 328 01bc 00000000 		.word	.LANCHOR3
 329 01c0 70000000 		.word	.LC4
 330              		.cfi_endproc
 331              	.LFE127:
 333              		.section	.text.modem_cb_init,"ax",%progbits
 334              		.align	1
 335              		.global	modem_cb_init
 336              		.syntax unified
 337              		.thumb
 338              		.thumb_func
 339              		.fpu fpv4-sp-d16
 341              	modem_cb_init:
 342              	.LVL20:
 343              	.LFB128:
 119:../../shields/Murata/src/modem.c **** 
 120:../../shields/Murata/src/modem.c **** void modem_cb_init(modem_callbacks_t* cbs)
 121:../../shields/Murata/src/modem.c **** {
 344              		.loc 1 121 1 is_stmt 1 view -0
 345              		.cfi_startproc
 346              		@ args = 0, pretend = 0, frame = 0
 347              		@ frame_needed = 0, uses_anonymous_args = 0
 348              		.loc 1 121 1 is_stmt 0 view .LVU72
 349 0000 08B5     		push	{r3, lr}
 350              	.LCFI3:
 351              		.cfi_def_cfa_offset 8
 352              		.cfi_offset 3, -8
 353              		.cfi_offset 14, -4
 122:../../shields/Murata/src/modem.c ****     callbacks = cbs;
 354              		.loc 1 122 5 is_stmt 1 view .LVU73
 355              		.loc 1 122 15 is_stmt 0 view .LVU74
 356 0002 034B     		ldr	r3, .L30
 357 0004 1860     		str	r0, [r3]
 123:../../shields/Murata/src/modem.c ****     if(cbs->modem_rebooted_callback)
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 15


 358              		.loc 1 123 5 is_stmt 1 view .LVU75
 359              		.loc 1 123 11 is_stmt 0 view .LVU76
 360 0006 0069     		ldr	r0, [r0, #16]
 361              	.LVL21:
 362              		.loc 1 123 7 view .LVU77
 363 0008 08B1     		cbz	r0, .L27
 124:../../shields/Murata/src/modem.c ****       modem_interface_set_target_rebooted_callback(cbs->modem_rebooted_callback);
 364              		.loc 1 124 7 is_stmt 1 view .LVU78
 365 000a FFF7FEFF 		bl	modem_interface_set_target_rebooted_callback
 366              	.LVL22:
 367              	.L27:
 125:../../shields/Murata/src/modem.c **** }
 368              		.loc 1 125 1 is_stmt 0 view .LVU79
 369 000e 08BD     		pop	{r3, pc}
 370              	.L31:
 371              		.align	2
 372              	.L30:
 373 0010 00000000 		.word	.LANCHOR1
 374              		.cfi_endproc
 375              	.LFE128:
 377              		.section	.text.modem_process_fifo,"ax",%progbits
 378              		.align	1
 379              		.global	modem_process_fifo
 380              		.syntax unified
 381              		.thumb
 382              		.thumb_func
 383              		.fpu fpv4-sp-d16
 385              	modem_process_fifo:
 386              	.LFB129:
 126:../../shields/Murata/src/modem.c **** 
 127:../../shields/Murata/src/modem.c **** void modem_process_fifo()
 128:../../shields/Murata/src/modem.c **** {
 387              		.loc 1 128 1 is_stmt 1 view -0
 388              		.cfi_startproc
 389              		@ args = 0, pretend = 0, frame = 0
 390              		@ frame_needed = 0, uses_anonymous_args = 0
 391 0000 10B5     		push	{r4, lr}
 392              	.LCFI4:
 393              		.cfi_def_cfa_offset 8
 394              		.cfi_offset 4, -8
 395              		.cfi_offset 14, -4
 129:../../shields/Murata/src/modem.c ****   uint8_t retries = 0;
 396              		.loc 1 129 3 view .LVU81
 397              	.LVL23:
 130:../../shields/Murata/src/modem.c ****   while(fifo_get_size(&rx_fifo)&& retries < 50)
 398              		.loc 1 130 3 view .LVU82
 129:../../shields/Murata/src/modem.c ****   uint8_t retries = 0;
 399              		.loc 1 129 11 is_stmt 0 view .LVU83
 400 0002 0024     		movs	r4, #0
 401              	.LVL24:
 402              	.L33:
 403              		.loc 1 130 9 view .LVU84
 404 0004 0748     		ldr	r0, .L37
 405 0006 FFF7FEFF 		bl	fifo_get_size
 406              	.LVL25:
 407              		.loc 1 130 8 view .LVU85
 408 000a 48B1     		cbz	r0, .L32
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 16


 409              		.loc 1 130 32 discriminator 1 view .LVU86
 410 000c 312C     		cmp	r4, #49
 411 000e 07D8     		bhi	.L32
 412              	.LBB11:
 131:../../shields/Murata/src/modem.c ****   { 
 132:../../shields/Murata/src/modem.c ****     process_rx_fifo();
 413              		.loc 1 132 5 is_stmt 1 view .LVU87
 414 0010 FFF7FEFF 		bl	process_rx_fifo
 415              	.LVL26:
 133:../../shields/Murata/src/modem.c ****     HAL_Delay(5);
 416              		.loc 1 133 5 view .LVU88
 417 0014 0520     		movs	r0, #5
 418 0016 FFF7FEFF 		bl	HAL_Delay
 419              	.LVL27:
 134:../../shields/Murata/src/modem.c ****     retries++;
 420              		.loc 1 134 5 view .LVU89
 421              		.loc 1 134 12 is_stmt 0 view .LVU90
 422 001a 0134     		adds	r4, r4, #1
 423              	.LVL28:
 424              		.loc 1 134 12 view .LVU91
 425 001c E4B2     		uxtb	r4, r4
 426              	.LVL29:
 427              		.loc 1 134 12 view .LVU92
 428 001e F1E7     		b	.L33
 429              	.L32:
 430              		.loc 1 134 12 view .LVU93
 431              	.LBE11:
 135:../../shields/Murata/src/modem.c ****   }
 136:../../shields/Murata/src/modem.c **** }
 432              		.loc 1 136 1 view .LVU94
 433 0020 10BD     		pop	{r4, pc}
 434              	.LVL30:
 435              	.L38:
 436              		.loc 1 136 1 view .LVU95
 437 0022 00BF     		.align	2
 438              	.L37:
 439 0024 00000000 		.word	rx_fifo
 440              		.cfi_endproc
 441              	.LFE129:
 443              		.section	.text.modem_init,"ax",%progbits
 444              		.align	1
 445              		.global	modem_init
 446              		.syntax unified
 447              		.thumb
 448              		.thumb_func
 449              		.fpu fpv4-sp-d16
 451              	modem_init:
 452              	.LVL31:
 453              	.LFB130:
 137:../../shields/Murata/src/modem.c **** 
 138:../../shields/Murata/src/modem.c **** //void modem_init(uint8_t uart_idx, uint32_t baudrate)
 139:../../shields/Murata/src/modem.c **** void modem_init(UART_HandleTypeDef* uart)
 140:../../shields/Murata/src/modem.c **** {
 454              		.loc 1 140 1 is_stmt 1 view -0
 455              		.cfi_startproc
 456              		@ args = 0, pretend = 0, frame = 0
 457              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 17


 458              		.loc 1 140 1 is_stmt 0 view .LVU97
 459 0000 08B5     		push	{r3, lr}
 460              	.LCFI5:
 461              		.cfi_def_cfa_offset 8
 462              		.cfi_offset 3, -8
 463              		.cfi_offset 14, -4
 141:../../shields/Murata/src/modem.c ****   modem_interface_init(uart);//uart_idx, baudrate, 0, 0); // TODO pins
 464              		.loc 1 141 3 is_stmt 1 view .LVU98
 465 0002 FFF7FEFF 		bl	modem_interface_init
 466              	.LVL32:
 142:../../shields/Murata/src/modem.c ****   modem_interface_register_handler(&process_serial_frame, SERIAL_MESSAGE_TYPE_ALP_DATA);
 467              		.loc 1 142 3 view .LVU99
 468 0006 0121     		movs	r1, #1
 469 0008 0348     		ldr	r0, .L41
 470 000a FFF7FEFF 		bl	modem_interface_register_handler
 471              	.LVL33:
 143:../../shields/Murata/src/modem.c ****   command.is_active = false;
 472              		.loc 1 143 3 view .LVU100
 473              		.loc 1 143 21 is_stmt 0 view .LVU101
 474 000e 034B     		ldr	r3, .L41+4
 475 0010 0022     		movs	r2, #0
 476 0012 5A70     		strb	r2, [r3, #1]
 144:../../shields/Murata/src/modem.c **** }
 477              		.loc 1 144 1 view .LVU102
 478 0014 08BD     		pop	{r3, pc}
 479              	.L42:
 480 0016 00BF     		.align	2
 481              	.L41:
 482 0018 00000000 		.word	process_serial_frame
 483 001c 00000000 		.word	.LANCHOR0
 484              		.cfi_endproc
 485              	.LFE130:
 487              		.section	.text.modem_reinit,"ax",%progbits
 488              		.align	1
 489              		.global	modem_reinit
 490              		.syntax unified
 491              		.thumb
 492              		.thumb_func
 493              		.fpu fpv4-sp-d16
 495              	modem_reinit:
 496              	.LFB131:
 145:../../shields/Murata/src/modem.c **** 
 146:../../shields/Murata/src/modem.c **** void modem_reinit() {
 497              		.loc 1 146 21 is_stmt 1 view -0
 498              		.cfi_startproc
 499              		@ args = 0, pretend = 0, frame = 0
 500              		@ frame_needed = 0, uses_anonymous_args = 0
 501              		@ link register save eliminated.
 147:../../shields/Murata/src/modem.c ****   command.is_active = false;
 502              		.loc 1 147 3 view .LVU104
 503              		.loc 1 147 21 is_stmt 0 view .LVU105
 504 0000 014B     		ldr	r3, .L44
 505 0002 0022     		movs	r2, #0
 506 0004 5A70     		strb	r2, [r3, #1]
 148:../../shields/Murata/src/modem.c **** }
 507              		.loc 1 148 1 view .LVU106
 508 0006 7047     		bx	lr
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 18


 509              	.L45:
 510              		.align	2
 511              	.L44:
 512 0008 00000000 		.word	.LANCHOR0
 513              		.cfi_endproc
 514              	.LFE131:
 516              		.section	.text.modem_send_ping,"ax",%progbits
 517              		.align	1
 518              		.global	modem_send_ping
 519              		.syntax unified
 520              		.thumb
 521              		.thumb_func
 522              		.fpu fpv4-sp-d16
 524              	modem_send_ping:
 525              	.LFB132:
 149:../../shields/Murata/src/modem.c **** 
 150:../../shields/Murata/src/modem.c **** void modem_send_ping() {
 526              		.loc 1 150 24 is_stmt 1 view -0
 527              		.cfi_startproc
 528              		@ args = 0, pretend = 0, frame = 8
 529              		@ frame_needed = 0, uses_anonymous_args = 0
 530 0000 00B5     		push	{lr}
 531              	.LCFI6:
 532              		.cfi_def_cfa_offset 4
 533              		.cfi_offset 14, -4
 534 0002 83B0     		sub	sp, sp, #12
 535              	.LCFI7:
 536              		.cfi_def_cfa_offset 16
 151:../../shields/Murata/src/modem.c ****   uint8_t ping_request[1]={0x01};
 537              		.loc 1 151 3 view .LVU108
 538              		.loc 1 151 11 is_stmt 0 view .LVU109
 539 0004 0121     		movs	r1, #1
 540 0006 8DF80410 		strb	r1, [sp, #4]
 152:../../shields/Murata/src/modem.c ****   modem_interface_transfer_bytes((uint8_t*) &ping_request, 1, SERIAL_MESSAGE_TYPE_PING_REQUEST);
 541              		.loc 1 152 3 is_stmt 1 view .LVU110
 542 000a 0222     		movs	r2, #2
 543 000c 01A8     		add	r0, sp, #4
 544 000e FFF7FEFF 		bl	modem_interface_transfer_bytes
 545              	.LVL34:
 153:../../shields/Murata/src/modem.c **** }
 546              		.loc 1 153 1 is_stmt 0 view .LVU111
 547 0012 03B0     		add	sp, sp, #12
 548              	.LCFI8:
 549              		.cfi_def_cfa_offset 4
 550              		@ sp needed
 551 0014 5DF804FB 		ldr	pc, [sp], #4
 552              		.cfi_endproc
 553              	.LFE132:
 555              		.section	.text.modem_execute_raw_alp,"ax",%progbits
 556              		.align	1
 557              		.global	modem_execute_raw_alp
 558              		.syntax unified
 559              		.thumb
 560              		.thumb_func
 561              		.fpu fpv4-sp-d16
 563              	modem_execute_raw_alp:
 564              	.LVL35:
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 19


 565              	.LFB133:
 154:../../shields/Murata/src/modem.c **** 
 155:../../shields/Murata/src/modem.c **** bool modem_execute_raw_alp(uint8_t* alp, uint8_t len) {
 566              		.loc 1 155 55 is_stmt 1 view -0
 567              		.cfi_startproc
 568              		@ args = 0, pretend = 0, frame = 0
 569              		@ frame_needed = 0, uses_anonymous_args = 0
 570              		.loc 1 155 55 is_stmt 0 view .LVU113
 571 0000 08B5     		push	{r3, lr}
 572              	.LCFI9:
 573              		.cfi_def_cfa_offset 8
 574              		.cfi_offset 3, -8
 575              		.cfi_offset 14, -4
 156:../../shields/Murata/src/modem.c ****   modem_interface_transfer_bytes(alp, len, SERIAL_MESSAGE_TYPE_ALP_DATA);
 576              		.loc 1 156 3 is_stmt 1 view .LVU114
 577 0002 0122     		movs	r2, #1
 578 0004 FFF7FEFF 		bl	modem_interface_transfer_bytes
 579              	.LVL36:
 157:../../shields/Murata/src/modem.c **** }
 580              		.loc 1 157 1 is_stmt 0 view .LVU115
 581 0008 08BD     		pop	{r3, pc}
 582              		.cfi_endproc
 583              	.LFE133:
 585              		.section	.text.alloc_command,"ax",%progbits
 586              		.align	1
 587              		.global	alloc_command
 588              		.syntax unified
 589              		.thumb
 590              		.thumb_func
 591              		.fpu fpv4-sp-d16
 593              	alloc_command:
 594              	.LFB134:
 158:../../shields/Murata/src/modem.c **** 
 159:../../shields/Murata/src/modem.c **** bool alloc_command() {
 595              		.loc 1 159 22 is_stmt 1 view -0
 596              		.cfi_startproc
 597              		@ args = 0, pretend = 0, frame = 0
 598              		@ frame_needed = 0, uses_anonymous_args = 0
 599 0000 70B5     		push	{r4, r5, r6, lr}
 600              	.LCFI10:
 601              		.cfi_def_cfa_offset 16
 602              		.cfi_offset 4, -16
 603              		.cfi_offset 5, -12
 604              		.cfi_offset 6, -8
 605              		.cfi_offset 14, -4
 160:../../shields/Murata/src/modem.c ****   if(command.is_active) {
 606              		.loc 1 160 3 view .LVU117
 607              		.loc 1 160 13 is_stmt 0 view .LVU118
 608 0002 0F4B     		ldr	r3, .L55
 609 0004 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 610              		.loc 1 160 5 view .LVU119
 611 0006 ABB9     		cbnz	r3, .L54
 161:../../shields/Murata/src/modem.c ****     printf("prev command still active");
 162:../../shields/Murata/src/modem.c ****     return false;
 163:../../shields/Murata/src/modem.c ****   }
 164:../../shields/Murata/src/modem.c **** 
 165:../../shields/Murata/src/modem.c ****   command.is_active = true;
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 20


 612              		.loc 1 165 3 is_stmt 1 view .LVU120
 613              		.loc 1 165 21 is_stmt 0 view .LVU121
 614 0008 0D4D     		ldr	r5, .L55
 615 000a 0124     		movs	r4, #1
 616 000c 6C70     		strb	r4, [r5, #1]
 166:../../shields/Murata/src/modem.c ****   fifo_init(&command.fifo, command.buffer, CMD_BUFFER_SIZE);
 617              		.loc 1 166 3 is_stmt 1 view .LVU122
 618 000e 2E1D     		adds	r6, r5, #4
 619 0010 4FF48072 		mov	r2, #256
 620 0014 05F11401 		add	r1, r5, #20
 621 0018 3046     		mov	r0, r6
 622 001a FFF7FEFF 		bl	fifo_init
 623              	.LVL37:
 167:../../shields/Murata/src/modem.c ****   command.tag_id = next_tag_id;
 624              		.loc 1 167 3 view .LVU123
 625              		.loc 1 167 18 is_stmt 0 view .LVU124
 626 001e 094B     		ldr	r3, .L55+4
 627 0020 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 628 0022 2970     		strb	r1, [r5]
 168:../../shields/Murata/src/modem.c ****   next_tag_id++;
 629              		.loc 1 168 3 is_stmt 1 view .LVU125
 630              		.loc 1 168 14 is_stmt 0 view .LVU126
 631 0024 0A19     		adds	r2, r1, r4
 632 0026 1A70     		strb	r2, [r3]
 169:../../shields/Murata/src/modem.c **** 
 170:../../shields/Murata/src/modem.c ****   alp_append_tag_request_action(&command.fifo, command.tag_id, true);
 633              		.loc 1 170 3 is_stmt 1 view .LVU127
 634 0028 2246     		mov	r2, r4
 635 002a 3046     		mov	r0, r6
 636 002c FFF7FEFF 		bl	alp_append_tag_request_action
 637              	.LVL38:
 171:../../shields/Murata/src/modem.c ****   return true;
 638              		.loc 1 171 3 view .LVU128
 639              		.loc 1 171 10 is_stmt 0 view .LVU129
 640 0030 2046     		mov	r0, r4
 641              	.L52:
 172:../../shields/Murata/src/modem.c **** }
 642              		.loc 1 172 1 view .LVU130
 643 0032 70BD     		pop	{r4, r5, r6, pc}
 644              	.L54:
 161:../../shields/Murata/src/modem.c ****     return false;
 645              		.loc 1 161 5 is_stmt 1 view .LVU131
 646 0034 0448     		ldr	r0, .L55+8
 647 0036 FFF7FEFF 		bl	printf
 648              	.LVL39:
 162:../../shields/Murata/src/modem.c ****   }
 649              		.loc 1 162 5 view .LVU132
 162:../../shields/Murata/src/modem.c ****   }
 650              		.loc 1 162 12 is_stmt 0 view .LVU133
 651 003a 0020     		movs	r0, #0
 652 003c F9E7     		b	.L52
 653              	.L56:
 654 003e 00BF     		.align	2
 655              	.L55:
 656 0040 00000000 		.word	.LANCHOR0
 657 0044 00000000 		.word	.LANCHOR4
 658 0048 00000000 		.word	.LC5
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 21


 659              		.cfi_endproc
 660              	.LFE134:
 662              		.section	.text.modem_read_file,"ax",%progbits
 663              		.align	1
 664              		.global	modem_read_file
 665              		.syntax unified
 666              		.thumb
 667              		.thumb_func
 668              		.fpu fpv4-sp-d16
 670              	modem_read_file:
 671              	.LVL40:
 672              	.LFB135:
 173:../../shields/Murata/src/modem.c **** 
 174:../../shields/Murata/src/modem.c **** bool modem_read_file(uint8_t file_id, uint32_t offset, uint32_t size) {
 673              		.loc 1 174 71 is_stmt 1 view -0
 674              		.cfi_startproc
 675              		@ args = 0, pretend = 0, frame = 0
 676              		@ frame_needed = 0, uses_anonymous_args = 0
 677              		.loc 1 174 71 is_stmt 0 view .LVU135
 678 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 679              	.LCFI11:
 680              		.cfi_def_cfa_offset 32
 681              		.cfi_offset 4, -32
 682              		.cfi_offset 5, -28
 683              		.cfi_offset 6, -24
 684              		.cfi_offset 7, -20
 685              		.cfi_offset 8, -16
 686              		.cfi_offset 9, -12
 687              		.cfi_offset 10, -8
 688              		.cfi_offset 14, -4
 689 0004 82B0     		sub	sp, sp, #8
 690              	.LCFI12:
 691              		.cfi_def_cfa_offset 40
 692 0006 0546     		mov	r5, r0
 693 0008 0E46     		mov	r6, r1
 694 000a 1746     		mov	r7, r2
 175:../../shields/Murata/src/modem.c ****   if(!alloc_command())
 695              		.loc 1 175 3 is_stmt 1 view .LVU136
 696              		.loc 1 175 7 is_stmt 0 view .LVU137
 697 000c FFF7FEFF 		bl	alloc_command
 698              	.LVL41:
 699              		.loc 1 175 5 view .LVU138
 700 0010 0446     		mov	r4, r0
 701 0012 18B9     		cbnz	r0, .L60
 702              	.L58:
 176:../../shields/Murata/src/modem.c ****     return false;
 177:../../shields/Murata/src/modem.c **** 
 178:../../shields/Murata/src/modem.c ****   alp_append_read_file_data_action(&command.fifo, file_id, offset, size, true, false);
 179:../../shields/Murata/src/modem.c **** 
 180:../../shields/Murata/src/modem.c ****   modem_interface_transfer_bytes(command.buffer, fifo_get_size(&command.fifo), SERIAL_MESSAGE_TYPE_
 181:../../shields/Murata/src/modem.c **** 
 182:../../shields/Murata/src/modem.c ****   return true;
 183:../../shields/Murata/src/modem.c **** }
 703              		.loc 1 183 1 view .LVU139
 704 0014 2046     		mov	r0, r4
 705 0016 02B0     		add	sp, sp, #8
 706              	.LCFI13:
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 22


 707              		.cfi_remember_state
 708              		.cfi_def_cfa_offset 32
 709              		@ sp needed
 710 0018 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 711              	.LVL42:
 712              	.L60:
 713              	.LCFI14:
 714              		.cfi_restore_state
 178:../../shields/Murata/src/modem.c **** 
 715              		.loc 1 178 3 is_stmt 1 view .LVU140
 716 001c DFF83080 		ldr	r8, .L61
 717 0020 08F1040A 		add	r10, r8, #4
 718 0024 0023     		movs	r3, #0
 719 0026 0193     		str	r3, [sp, #4]
 720 0028 4FF00109 		mov	r9, #1
 721 002c CDF80090 		str	r9, [sp]
 722 0030 3B46     		mov	r3, r7
 723 0032 3246     		mov	r2, r6
 724 0034 2946     		mov	r1, r5
 725 0036 5046     		mov	r0, r10
 726 0038 FFF7FEFF 		bl	alp_append_read_file_data_action
 727              	.LVL43:
 180:../../shields/Murata/src/modem.c **** 
 728              		.loc 1 180 3 view .LVU141
 180:../../shields/Murata/src/modem.c **** 
 729              		.loc 1 180 50 is_stmt 0 view .LVU142
 730 003c 5046     		mov	r0, r10
 731 003e FFF7FEFF 		bl	fifo_get_size
 732              	.LVL44:
 180:../../shields/Murata/src/modem.c **** 
 733              		.loc 1 180 3 view .LVU143
 734 0042 4A46     		mov	r2, r9
 735 0044 C1B2     		uxtb	r1, r0
 736 0046 08F11400 		add	r0, r8, #20
 737 004a FFF7FEFF 		bl	modem_interface_transfer_bytes
 738              	.LVL45:
 182:../../shields/Murata/src/modem.c **** }
 739              		.loc 1 182 3 is_stmt 1 view .LVU144
 182:../../shields/Murata/src/modem.c **** }
 740              		.loc 1 182 10 is_stmt 0 view .LVU145
 741 004e E1E7     		b	.L58
 742              	.L62:
 743              		.align	2
 744              	.L61:
 745 0050 00000000 		.word	.LANCHOR0
 746              		.cfi_endproc
 747              	.LFE135:
 749              		.section	.text.modem_write_file,"ax",%progbits
 750              		.align	1
 751              		.global	modem_write_file
 752              		.syntax unified
 753              		.thumb
 754              		.thumb_func
 755              		.fpu fpv4-sp-d16
 757              	modem_write_file:
 758              	.LVL46:
 759              	.LFB136:
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 23


 184:../../shields/Murata/src/modem.c **** 
 185:../../shields/Murata/src/modem.c **** bool modem_write_file(uint8_t file_id, uint32_t offset, uint32_t size, uint8_t* data) {
 760              		.loc 1 185 87 is_stmt 1 view -0
 761              		.cfi_startproc
 762              		@ args = 0, pretend = 0, frame = 0
 763              		@ frame_needed = 0, uses_anonymous_args = 0
 764              		.loc 1 185 87 is_stmt 0 view .LVU147
 765 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 766              	.LCFI15:
 767              		.cfi_def_cfa_offset 36
 768              		.cfi_offset 4, -36
 769              		.cfi_offset 5, -32
 770              		.cfi_offset 6, -28
 771              		.cfi_offset 7, -24
 772              		.cfi_offset 8, -20
 773              		.cfi_offset 9, -16
 774              		.cfi_offset 10, -12
 775              		.cfi_offset 11, -8
 776              		.cfi_offset 14, -4
 777 0004 85B0     		sub	sp, sp, #20
 778              	.LCFI16:
 779              		.cfi_def_cfa_offset 56
 780 0006 0546     		mov	r5, r0
 781 0008 0E46     		mov	r6, r1
 782 000a 1746     		mov	r7, r2
 783 000c 9846     		mov	r8, r3
 186:../../shields/Murata/src/modem.c ****   if(!alloc_command())
 784              		.loc 1 186 3 is_stmt 1 view .LVU148
 785              		.loc 1 186 7 is_stmt 0 view .LVU149
 786 000e FFF7FEFF 		bl	alloc_command
 787              	.LVL47:
 788              		.loc 1 186 5 view .LVU150
 789 0012 0446     		mov	r4, r0
 790 0014 18B9     		cbnz	r0, .L66
 791              	.L64:
 187:../../shields/Murata/src/modem.c ****     return false;
 188:../../shields/Murata/src/modem.c **** 
 189:../../shields/Murata/src/modem.c ****   alp_append_write_file_data_action(&command.fifo, file_id, offset, size, data, true, false);
 190:../../shields/Murata/src/modem.c **** 
 191:../../shields/Murata/src/modem.c ****   modem_interface_transfer_bytes(command.buffer, fifo_get_size(&command.fifo), SERIAL_MESSAGE_TYPE_
 192:../../shields/Murata/src/modem.c **** 
 193:../../shields/Murata/src/modem.c ****   return true;
 194:../../shields/Murata/src/modem.c **** }
 792              		.loc 1 194 1 view .LVU151
 793 0016 2046     		mov	r0, r4
 794 0018 05B0     		add	sp, sp, #20
 795              	.LCFI17:
 796              		.cfi_remember_state
 797              		.cfi_def_cfa_offset 36
 798              		@ sp needed
 799 001a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 800              	.LVL48:
 801              	.L66:
 802              	.LCFI18:
 803              		.cfi_restore_state
 189:../../shields/Murata/src/modem.c **** 
 804              		.loc 1 189 3 is_stmt 1 view .LVU152
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 24


 805 001e DFF83890 		ldr	r9, .L67
 806 0022 09F1040B 		add	fp, r9, #4
 807 0026 0023     		movs	r3, #0
 808 0028 0293     		str	r3, [sp, #8]
 809 002a 4FF0010A 		mov	r10, #1
 810 002e CDF804A0 		str	r10, [sp, #4]
 811 0032 CDF80080 		str	r8, [sp]
 812 0036 3B46     		mov	r3, r7
 813 0038 3246     		mov	r2, r6
 814 003a 2946     		mov	r1, r5
 815 003c 5846     		mov	r0, fp
 816 003e FFF7FEFF 		bl	alp_append_write_file_data_action
 817              	.LVL49:
 191:../../shields/Murata/src/modem.c **** 
 818              		.loc 1 191 3 view .LVU153
 191:../../shields/Murata/src/modem.c **** 
 819              		.loc 1 191 50 is_stmt 0 view .LVU154
 820 0042 5846     		mov	r0, fp
 821 0044 FFF7FEFF 		bl	fifo_get_size
 822              	.LVL50:
 191:../../shields/Murata/src/modem.c **** 
 823              		.loc 1 191 3 view .LVU155
 824 0048 5246     		mov	r2, r10
 825 004a C1B2     		uxtb	r1, r0
 826 004c 09F11400 		add	r0, r9, #20
 827 0050 FFF7FEFF 		bl	modem_interface_transfer_bytes
 828              	.LVL51:
 193:../../shields/Murata/src/modem.c **** }
 829              		.loc 1 193 3 is_stmt 1 view .LVU156
 193:../../shields/Murata/src/modem.c **** }
 830              		.loc 1 193 10 is_stmt 0 view .LVU157
 831 0054 DFE7     		b	.L64
 832              	.L68:
 833 0056 00BF     		.align	2
 834              	.L67:
 835 0058 00000000 		.word	.LANCHOR0
 836              		.cfi_endproc
 837              	.LFE136:
 839              		.section	.text.modem_send_unsolicited_response,"ax",%progbits
 840              		.align	1
 841              		.global	modem_send_unsolicited_response
 842              		.syntax unified
 843              		.thumb
 844              		.thumb_func
 845              		.fpu fpv4-sp-d16
 847              	modem_send_unsolicited_response:
 848              	.LVL52:
 849              	.LFB137:
 195:../../shields/Murata/src/modem.c **** 
 196:../../shields/Murata/src/modem.c **** bool modem_send_unsolicited_response(uint8_t file_id, uint32_t offset, uint32_t length, uint8_t* da
 197:../../shields/Murata/src/modem.c ****                                      session_config_t* session_config) {
 850              		.loc 1 197 72 is_stmt 1 view -0
 851              		.cfi_startproc
 852              		@ args = 4, pretend = 0, frame = 0
 853              		@ frame_needed = 0, uses_anonymous_args = 0
 854              		.loc 1 197 72 is_stmt 0 view .LVU159
 855 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 25


 856              	.LCFI19:
 857              		.cfi_def_cfa_offset 32
 858              		.cfi_offset 4, -32
 859              		.cfi_offset 5, -28
 860              		.cfi_offset 6, -24
 861              		.cfi_offset 7, -20
 862              		.cfi_offset 8, -16
 863              		.cfi_offset 9, -12
 864              		.cfi_offset 10, -8
 865              		.cfi_offset 14, -4
 866 0004 82B0     		sub	sp, sp, #8
 867              	.LCFI20:
 868              		.cfi_def_cfa_offset 40
 869 0006 0646     		mov	r6, r0
 870 0008 0F46     		mov	r7, r1
 871 000a 9046     		mov	r8, r2
 872 000c 9946     		mov	r9, r3
 873 000e 0A9C     		ldr	r4, [sp, #40]
 198:../../shields/Murata/src/modem.c ****   if(!alloc_command())
 874              		.loc 1 198 3 is_stmt 1 view .LVU160
 875              		.loc 1 198 7 is_stmt 0 view .LVU161
 876 0010 FFF7FEFF 		bl	alloc_command
 877              	.LVL53:
 878              		.loc 1 198 5 view .LVU162
 879 0014 0546     		mov	r5, r0
 880 0016 C8B1     		cbz	r0, .L70
 199:../../shields/Murata/src/modem.c ****     return false;
 200:../../shields/Murata/src/modem.c **** 
 201:../../shields/Murata/src/modem.c ****   if(session_config->interface_type==DASH7)
 881              		.loc 1 201 3 is_stmt 1 view .LVU163
 882              		.loc 1 201 20 is_stmt 0 view .LVU164
 883 0018 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 884              		.loc 1 201 5 view .LVU165
 885 001a DBB1     		cbz	r3, .L75
 202:../../shields/Murata/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_D7ASP, (uint8_t *) &session_config->d7ap_se
 203:../../shields/Murata/src/modem.c ****   else if(session_config->interface_type==LORAWAN_OTAA)
 886              		.loc 1 203 8 is_stmt 1 view .LVU166
 887              		.loc 1 203 10 is_stmt 0 view .LVU167
 888 001c 012B     		cmp	r3, #1
 889 001e 20D0     		beq	.L76
 204:../../shields/Murata/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_LORAWAN_OTAA, (uint8_t *) &session_config->
 205:../../shields/Murata/src/modem.c ****   else if(session_config->interface_type==lorawan_ABP)
 890              		.loc 1 205 8 is_stmt 1 view .LVU168
 891              		.loc 1 205 10 is_stmt 0 view .LVU169
 892 0020 022B     		cmp	r3, #2
 893 0022 25D0     		beq	.L77
 894              	.L72:
 206:../../shields/Murata/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_LORAWAN_ABP, (uint8_t *) &session_config->l
 207:../../shields/Murata/src/modem.c **** 
 208:../../shields/Murata/src/modem.c ****   alp_append_return_file_data_action(&command.fifo, file_id, offset, length, data);
 895              		.loc 1 208 3 is_stmt 1 view .LVU170
 896 0024 164C     		ldr	r4, .L78
 897 0026 04F1040A 		add	r10, r4, #4
 898 002a CDF80090 		str	r9, [sp]
 899 002e 4346     		mov	r3, r8
 900 0030 3A46     		mov	r2, r7
 901 0032 3146     		mov	r1, r6
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 26


 902 0034 5046     		mov	r0, r10
 903 0036 FFF7FEFF 		bl	alp_append_return_file_data_action
 904              	.LVL54:
 209:../../shields/Murata/src/modem.c **** 
 210:../../shields/Murata/src/modem.c ****   modem_interface_transfer_bytes(command.buffer, fifo_get_size(&command.fifo), SERIAL_MESSAGE_TYPE_
 905              		.loc 1 210 3 view .LVU171
 906              		.loc 1 210 50 is_stmt 0 view .LVU172
 907 003a 5046     		mov	r0, r10
 908 003c FFF7FEFF 		bl	fifo_get_size
 909              	.LVL55:
 910              		.loc 1 210 3 view .LVU173
 911 0040 0122     		movs	r2, #1
 912 0042 C1B2     		uxtb	r1, r0
 913 0044 04F11400 		add	r0, r4, #20
 914 0048 FFF7FEFF 		bl	modem_interface_transfer_bytes
 915              	.LVL56:
 211:../../shields/Murata/src/modem.c ****   return true;
 916              		.loc 1 211 3 is_stmt 1 view .LVU174
 917              	.L70:
 212:../../shields/Murata/src/modem.c **** }
 918              		.loc 1 212 1 is_stmt 0 view .LVU175
 919 004c 2846     		mov	r0, r5
 920 004e 02B0     		add	sp, sp, #8
 921              	.LCFI21:
 922              		.cfi_remember_state
 923              		.cfi_def_cfa_offset 32
 924              		@ sp needed
 925 0050 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 926              	.LVL57:
 927              	.L75:
 928              	.LCFI22:
 929              		.cfi_restore_state
 202:../../shields/Murata/src/modem.c ****   else if(session_config->interface_type==LORAWAN_OTAA)
 930              		.loc 1 202 5 is_stmt 1 view .LVU176
 931 0054 0C23     		movs	r3, #12
 932 0056 221D     		adds	r2, r4, #4
 933 0058 D721     		movs	r1, #215
 934 005a 0A48     		ldr	r0, .L78+4
 935 005c FFF7FEFF 		bl	alp_append_forward_action
 936              	.LVL58:
 937 0060 E0E7     		b	.L72
 938              	.L76:
 204:../../shields/Murata/src/modem.c ****   else if(session_config->interface_type==lorawan_ABP)
 939              		.loc 1 204 5 view .LVU177
 940 0062 2223     		movs	r3, #34
 941 0064 221D     		adds	r2, r4, #4
 942 0066 0321     		movs	r1, #3
 943 0068 0648     		ldr	r0, .L78+4
 944 006a FFF7FEFF 		bl	alp_append_forward_action
 945              	.LVL59:
 946 006e D9E7     		b	.L72
 947              	.L77:
 206:../../shields/Murata/src/modem.c **** 
 948              		.loc 1 206 5 view .LVU178
 949 0070 2C23     		movs	r3, #44
 950 0072 221D     		adds	r2, r4, #4
 951 0074 0221     		movs	r1, #2
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 27


 952 0076 0348     		ldr	r0, .L78+4
 953 0078 FFF7FEFF 		bl	alp_append_forward_action
 954              	.LVL60:
 955 007c D2E7     		b	.L72
 956              	.L79:
 957 007e 00BF     		.align	2
 958              	.L78:
 959 0080 00000000 		.word	.LANCHOR0
 960 0084 04000000 		.word	.LANCHOR0+4
 961              		.cfi_endproc
 962              	.LFE137:
 964              		.section	.text.modem_send_raw_unsolicited_response,"ax",%progbits
 965              		.align	1
 966              		.global	modem_send_raw_unsolicited_response
 967              		.syntax unified
 968              		.thumb
 969              		.thumb_func
 970              		.fpu fpv4-sp-d16
 972              	modem_send_raw_unsolicited_response:
 973              	.LVL61:
 974              	.LFB138:
 213:../../shields/Murata/src/modem.c **** 
 214:../../shields/Murata/src/modem.c **** bool modem_send_raw_unsolicited_response(uint8_t* alp_command, uint32_t length,
 215:../../shields/Murata/src/modem.c ****                                          session_config_t* session_config) {
 975              		.loc 1 215 76 view -0
 976              		.cfi_startproc
 977              		@ args = 0, pretend = 0, frame = 0
 978              		@ frame_needed = 0, uses_anonymous_args = 0
 979              		.loc 1 215 76 is_stmt 0 view .LVU180
 980 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 981              	.LCFI23:
 982              		.cfi_def_cfa_offset 24
 983              		.cfi_offset 4, -24
 984              		.cfi_offset 5, -20
 985              		.cfi_offset 6, -16
 986              		.cfi_offset 7, -12
 987              		.cfi_offset 8, -8
 988              		.cfi_offset 14, -4
 989 0004 0746     		mov	r7, r0
 990 0006 8846     		mov	r8, r1
 991 0008 1446     		mov	r4, r2
 216:../../shields/Murata/src/modem.c ****   if(!alloc_command())
 992              		.loc 1 216 3 is_stmt 1 view .LVU181
 993              		.loc 1 216 7 is_stmt 0 view .LVU182
 994 000a FFF7FEFF 		bl	alloc_command
 995              	.LVL62:
 996              		.loc 1 216 5 view .LVU183
 997 000e 0546     		mov	r5, r0
 998 0010 B0B1     		cbz	r0, .L81
 217:../../shields/Murata/src/modem.c ****     return false;
 218:../../shields/Murata/src/modem.c **** 
 219:../../shields/Murata/src/modem.c ****    if(session_config->interface_type==DASH7)
 999              		.loc 1 219 4 is_stmt 1 view .LVU184
 1000              		.loc 1 219 21 is_stmt 0 view .LVU185
 1001 0012 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1002              		.loc 1 219 6 view .LVU186
 1003 0014 BBB1     		cbz	r3, .L86
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 28


 220:../../shields/Murata/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_D7ASP, (uint8_t *) &session_config->d7ap_se
 221:../../shields/Murata/src/modem.c ****   else if(session_config->interface_type==LORAWAN_OTAA)
 1004              		.loc 1 221 8 is_stmt 1 view .LVU187
 1005              		.loc 1 221 10 is_stmt 0 view .LVU188
 1006 0016 012B     		cmp	r3, #1
 1007 0018 1CD0     		beq	.L87
 222:../../shields/Murata/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_LORAWAN_OTAA, (uint8_t *) &session_config->
 223:../../shields/Murata/src/modem.c ****   else if(session_config->interface_type==lorawan_ABP)
 1008              		.loc 1 223 8 is_stmt 1 view .LVU189
 1009              		.loc 1 223 10 is_stmt 0 view .LVU190
 1010 001a 022B     		cmp	r3, #2
 1011 001c 21D0     		beq	.L88
 1012              	.L83:
 224:../../shields/Murata/src/modem.c ****     alp_append_forward_action(&command.fifo, ALP_ITF_ID_LORAWAN_ABP, (uint8_t *) &session_config->l
 225:../../shields/Murata/src/modem.c **** 
 226:../../shields/Murata/src/modem.c ****   fifo_put(&command.fifo, alp_command, length);
 1013              		.loc 1 226 3 is_stmt 1 view .LVU191
 1014 001e 144C     		ldr	r4, .L89
 1015              	.LVL63:
 1016              		.loc 1 226 3 is_stmt 0 view .LVU192
 1017 0020 261D     		adds	r6, r4, #4
 1018 0022 1FFA88F2 		uxth	r2, r8
 1019 0026 3946     		mov	r1, r7
 1020 0028 3046     		mov	r0, r6
 1021 002a FFF7FEFF 		bl	fifo_put
 1022              	.LVL64:
 227:../../shields/Murata/src/modem.c **** 
 228:../../shields/Murata/src/modem.c ****   modem_interface_transfer_bytes(command.buffer, fifo_get_size(&command.fifo), SERIAL_MESSAGE_TYPE_
 1023              		.loc 1 228 3 is_stmt 1 view .LVU193
 1024              		.loc 1 228 50 is_stmt 0 view .LVU194
 1025 002e 3046     		mov	r0, r6
 1026 0030 FFF7FEFF 		bl	fifo_get_size
 1027              	.LVL65:
 1028              		.loc 1 228 3 view .LVU195
 1029 0034 0122     		movs	r2, #1
 1030 0036 C1B2     		uxtb	r1, r0
 1031 0038 04F11400 		add	r0, r4, #20
 1032 003c FFF7FEFF 		bl	modem_interface_transfer_bytes
 1033              	.LVL66:
 229:../../shields/Murata/src/modem.c ****   return true;
 1034              		.loc 1 229 3 is_stmt 1 view .LVU196
 1035              	.L81:
 230:../../shields/Murata/src/modem.c **** }
 1036              		.loc 1 230 1 is_stmt 0 view .LVU197
 1037 0040 2846     		mov	r0, r5
 1038 0042 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1039              	.LVL67:
 1040              	.L86:
 220:../../shields/Murata/src/modem.c ****   else if(session_config->interface_type==LORAWAN_OTAA)
 1041              		.loc 1 220 5 is_stmt 1 view .LVU198
 1042 0046 0C23     		movs	r3, #12
 1043 0048 221D     		adds	r2, r4, #4
 1044 004a D721     		movs	r1, #215
 1045 004c 0948     		ldr	r0, .L89+4
 1046 004e FFF7FEFF 		bl	alp_append_forward_action
 1047              	.LVL68:
 1048 0052 E4E7     		b	.L83
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 29


 1049              	.L87:
 222:../../shields/Murata/src/modem.c ****   else if(session_config->interface_type==lorawan_ABP)
 1050              		.loc 1 222 5 view .LVU199
 1051 0054 2223     		movs	r3, #34
 1052 0056 221D     		adds	r2, r4, #4
 1053 0058 0321     		movs	r1, #3
 1054 005a 0648     		ldr	r0, .L89+4
 1055 005c FFF7FEFF 		bl	alp_append_forward_action
 1056              	.LVL69:
 1057 0060 DDE7     		b	.L83
 1058              	.L88:
 224:../../shields/Murata/src/modem.c **** 
 1059              		.loc 1 224 5 view .LVU200
 1060 0062 2C23     		movs	r3, #44
 1061 0064 221D     		adds	r2, r4, #4
 1062 0066 0221     		movs	r1, #2
 1063 0068 0248     		ldr	r0, .L89+4
 1064 006a FFF7FEFF 		bl	alp_append_forward_action
 1065              	.LVL70:
 1066 006e D6E7     		b	.L83
 1067              	.L90:
 1068              		.align	2
 1069              	.L89:
 1070 0070 00000000 		.word	.LANCHOR0
 1071 0074 04000000 		.word	.LANCHOR0+4
 1072              		.cfi_endproc
 1073              	.LFE138:
 1075              		.section	.text.modem_get_active_tag_id,"ax",%progbits
 1076              		.align	1
 1077              		.global	modem_get_active_tag_id
 1078              		.syntax unified
 1079              		.thumb
 1080              		.thumb_func
 1081              		.fpu fpv4-sp-d16
 1083              	modem_get_active_tag_id:
 1084              	.LFB139:
 231:../../shields/Murata/src/modem.c **** 
 232:../../shields/Murata/src/modem.c **** uint8_t modem_get_active_tag_id()
 233:../../shields/Murata/src/modem.c **** {
 1085              		.loc 1 233 1 view -0
 1086              		.cfi_startproc
 1087              		@ args = 0, pretend = 0, frame = 0
 1088              		@ frame_needed = 0, uses_anonymous_args = 0
 1089              		@ link register save eliminated.
 234:../../shields/Murata/src/modem.c ****   return next_tag_id;
 1090              		.loc 1 234 3 view .LVU202
 235:../../shields/Murata/src/modem.c **** }
 1091              		.loc 1 235 1 is_stmt 0 view .LVU203
 1092 0000 014B     		ldr	r3, .L92
 1093 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1094 0004 7047     		bx	lr
 1095              	.L93:
 1096 0006 00BF     		.align	2
 1097              	.L92:
 1098 0008 00000000 		.word	.LANCHOR4
 1099              		.cfi_endproc
 1100              	.LFE139:
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 30


 1102              		.section	.bss.callbacks,"aw",%nobits
 1103              		.align	2
 1104              		.set	.LANCHOR1,. + 0
 1107              	callbacks:
 1108 0000 00000000 		.space	4
 1109              		.section	.bss.command,"aw",%nobits
 1110              		.align	2
 1111              		.set	.LANCHOR0,. + 0
 1114              	command:
 1115 0000 00000000 		.space	276
 1115      00000000 
 1115      00000000 
 1115      00000000 
 1115      00000000 
 1116              		.section	.bss.next_tag_id,"aw",%nobits
 1117              		.set	.LANCHOR4,. + 0
 1120              	next_tag_id:
 1121 0000 00       		.space	1
 1122              		.section	.rodata.__func__.11166,"a"
 1123              		.align	2
 1124              		.set	.LANCHOR3,. + 0
 1127              	__func__.11166:
 1128 0000 70726F63 		.ascii	"process_serial_frame\000"
 1128      6573735F 
 1128      73657269 
 1128      616C5F66 
 1128      72616D65 
 1129              		.section	.rodata.__func__.5707,"a"
 1130              		.align	2
 1131              		.set	.LANCHOR2,. + 0
 1134              	__func__.5707:
 1135 0000 64376170 		.ascii	"d7ap_addressee_id_length\000"
 1135      5F616464 
 1135      72657373 
 1135      65655F69 
 1135      645F6C65 
 1136              		.section	.rodata.alloc_command.str1.4,"aMS",%progbits,1
 1137              		.align	2
 1138              	.LC5:
 1139 0000 70726576 		.ascii	"prev command still active\000"
 1139      20636F6D 
 1139      6D616E64 
 1139      20737469 
 1139      6C6C2061 
 1140              		.section	.rodata.process_serial_frame.str1.4,"aMS",%progbits,1
 1141              		.align	2
 1142              	.LC0:
 1143 0000 72656365 		.ascii	"received resp with unexpected tag_id (%i vs %i)\000"
 1143      69766564 
 1143      20726573 
 1143      70207769 
 1143      74682075 
 1144              	.LC1:
 1145 0030 66616C73 		.ascii	"false\000"
 1145      6500
 1146 0036 0000     		.space	2
 1147              	.LC2:
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 31


 1148 0038 2E2E2F2E 		.ascii	"../../shields/Murata/inc/d7ap.h\000"
 1148      2E2F7368 
 1148      69656C64 
 1148      732F4D75 
 1148      72617461 
 1149              	.LC3:
 1150 0058 72656365 		.ascii	"received resp from: \000"
 1150      69766564 
 1150      20726573 
 1150      70206672 
 1150      6F6D3A20 
 1151 006d 000000   		.space	3
 1152              	.LC4:
 1153 0070 2E2E2F2E 		.ascii	"../../shields/Murata/src/modem.c\000"
 1153      2E2F7368 
 1153      69656C64 
 1153      732F4D75 
 1153      72617461 
 1154              		.text
 1155              	.Letext0:
 1156              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\include
 1157              		.file 4 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\include
 1158              		.file 5 "../../shields/Murata/inc/lorawan_stack.h"
 1159              		.file 6 "../../shields/Murata/inc/fifo.h"
 1160              		.file 7 "../../shields/Murata/inc/alp.h"
 1161              		.file 8 "../../core/ST/CMSIS/Include/core_cm4.h"
 1162              		.file 9 "../../core/ST/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 1163              		.file 10 "../../core/ST/CMSIS/Device/ST/STM32L4xx/Include/stm32l496xx.h"
 1164              		.file 11 "../../core/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 1165              		.file 12 "../../core/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 1166              		.file 13 "../../core/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_uart.h"
 1167              		.file 14 "../../core/ST/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 1168              		.file 15 "../../shields/Murata/inc/modem_interface.h"
 1169              		.file 16 "../../shields/Murata/inc/modem.h"
 1170              		.file 17 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\lib\\gcc\\arm-none-ea
 1171              		.file 18 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\includ
 1172              		.file 19 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\includ
 1173              		.file 20 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\includ
 1174              		.file 21 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\includ
 1175              		.file 22 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\includ
 1176              		.file 23 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\includ
 1177              		.file 24 "c:\\program files (x86)\\gnu tools arm embedded\\8 2019-q3-update\\arm-none-eabi\\includ
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 32


DEFINED SYMBOLS
                            *ABS*:00000000 modem.c
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:18     .text.process_serial_frame:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:25     .text.process_serial_frame:00000000 process_serial_frame
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:127    .text.process_serial_frame:00000064 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:159    .text.process_serial_frame:000000e4 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:228    .text.process_serial_frame:00000144 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:232    .text.process_serial_frame:00000148 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:321    .text.process_serial_frame:000001a0 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:334    .text.modem_cb_init:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:341    .text.modem_cb_init:00000000 modem_cb_init
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:373    .text.modem_cb_init:00000010 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:378    .text.modem_process_fifo:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:385    .text.modem_process_fifo:00000000 modem_process_fifo
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:439    .text.modem_process_fifo:00000024 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:444    .text.modem_init:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:451    .text.modem_init:00000000 modem_init
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:482    .text.modem_init:00000018 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:488    .text.modem_reinit:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:495    .text.modem_reinit:00000000 modem_reinit
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:512    .text.modem_reinit:00000008 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:517    .text.modem_send_ping:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:524    .text.modem_send_ping:00000000 modem_send_ping
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:556    .text.modem_execute_raw_alp:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:563    .text.modem_execute_raw_alp:00000000 modem_execute_raw_alp
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:586    .text.alloc_command:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:593    .text.alloc_command:00000000 alloc_command
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:656    .text.alloc_command:00000040 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:663    .text.modem_read_file:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:670    .text.modem_read_file:00000000 modem_read_file
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:745    .text.modem_read_file:00000050 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:750    .text.modem_write_file:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:757    .text.modem_write_file:00000000 modem_write_file
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:835    .text.modem_write_file:00000058 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:840    .text.modem_send_unsolicited_response:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:847    .text.modem_send_unsolicited_response:00000000 modem_send_unsolicited_response
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:959    .text.modem_send_unsolicited_response:00000080 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:965    .text.modem_send_raw_unsolicited_response:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:972    .text.modem_send_raw_unsolicited_response:00000000 modem_send_raw_unsolicited_response
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1070   .text.modem_send_raw_unsolicited_response:00000070 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1076   .text.modem_get_active_tag_id:00000000 $t
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1083   .text.modem_get_active_tag_id:00000000 modem_get_active_tag_id
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1098   .text.modem_get_active_tag_id:00000008 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1103   .bss.callbacks:00000000 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1107   .bss.callbacks:00000000 callbacks
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1110   .bss.command:00000000 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1114   .bss.command:00000000 command
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1120   .bss.next_tag_id:00000000 next_tag_id
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1121   .bss.next_tag_id:00000000 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1123   .rodata.__func__.11166:00000000 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1127   .rodata.__func__.11166:00000000 __func__.11166
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1130   .rodata.__func__.5707:00000000 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1134   .rodata.__func__.5707:00000000 __func__.5707
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1137   .rodata.alloc_command.str1.4:00000000 $d
C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s:1141   .rodata.process_serial_frame.str1.4:00000000 $d

UNDEFINED SYMBOLS
ARM GAS  C:\Users\yvesk\AppData\Local\Temp\ccuindhk.s 			page 33


printf
fifo_get_size
alp_parse_action
__assert_func
modem_interface_set_target_rebooted_callback
process_rx_fifo
HAL_Delay
rx_fifo
modem_interface_init
modem_interface_register_handler
modem_interface_transfer_bytes
fifo_init
alp_append_tag_request_action
alp_append_read_file_data_action
alp_append_write_file_data_action
alp_append_return_file_data_action
alp_append_forward_action
fifo_put
